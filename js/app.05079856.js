(function(){"use strict";var e={3270:function(e,a,t){var s=t(9242),o=t(3396);function i(e,a,t,s,i,n){const r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(r)}var n={name:"App",components:{}},r=t(89);const l=(0,r.Z)(n,[["render",i]]);var d=l,c=t(2483),u=t(7139);const m={class:"section2"},p=["src"],h={class:"card-btn"};function g(e,a,t,i,n,r){const l=(0,o.up)("HeaderComponent"),d=(0,o.up)("SubtitleComponent"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l),(0,o.Wm)(d,{label1:"Faça seu agendamento online com comodidade,",label2:"em qualquer hora e lugar."}),(0,o._)("section",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cards,((e,a)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:a,class:"card"},[(0,o._)("img",{src:e.url,alt:"Icon"},null,8,p),(0,o.Wm)(c,{to:e.to},{default:(0,o.w5)((()=>[(0,o._)("button",h,(0,u.zw)(e.text),1)])),_:2},1032,["to"])])),[[s.F8,e.show!==this.isLogged]]))),128))])])}const b=e=>((0,o.dD)("data-v-12a05504"),e=e(),(0,o.Cn)(),e),v={class:"header"},w=b((()=>(0,o._)("div",{class:"logo-field"},[(0,o._)("svg",{class:"logo",xmlns:"http://www.w3.org/2000/svg",fill:"#3a58f0",height:"1em",viewBox:"0 0 640 512"},[(0,o._)("path",{d:"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM288 160c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v48h48c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H352v48c0 8.8-7.2 16-16 16H304c-8.8 0-16-7.2-16-16V272H240c-8.8 0-16-7.2-16-16V224c0-8.8 7.2-16 16-16h48V160z"})]),(0,o._)("h1",{class:"logoName"},"AGENDASUS")],-1))),_=b((()=>(0,o._)("button",{class:"login-btn"},"Login",-1)));function y(e,a,t,s,i,n){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("header",v,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[w])),_:1}),(0,o._)("div",null,[n.isLogged?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:a[0]||(a[0]=e=>n.logout()),class:"login-btn logout"},"Sair")):((0,o.wg)(),(0,o.j4)(r,{key:0,to:"/login"},{default:(0,o.w5)((()=>[_])),_:1}))])])}var f={name:"HeaderComponent",data(){return{}},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("id"),this.$store.commit("logout"),this.$router.replace("/")}},computed:{isLogged(){return this.$store.getters.isLogged}}};const C=(0,r.Z)(f,[["render",y],["__scopeId","data-v-12a05504"]]);var D=C;const k={class:"section1"};function V(e,a,t,s,i,n){return(0,o.wg)(),(0,o.iD)("section",k,[(0,o._)("h2",null,(0,u.zw)(t.label1),1),(0,o._)("h2",null,(0,u.zw)(t.label2),1)])}var P={name:"SubtitleComponent",props:{label1:{},label2:{}}};const F=(0,r.Z)(P,[["render",V],["__scopeId","data-v-46b20a1a"]]);var S=F,x={name:"MainPage",components:{HeaderComponent:D,SubtitleComponent:S},data(){return{cards:[{url:"/assets/imgs/iconAgendar.svg",text:"Cadastre-se",to:"/cadastrar",show:!0},{url:"/assets/imgs/iconConsultar.svg",text:"Agende sua consulta",to:"/paciente"},{url:"/assets/imgs/notebook-svgrepo-com.svg",text:"Minhas consultas",to:"/paciente/minhasconsultas",show:!1},{url:"/assets/imgs/iconSaiba.svg",text:"Saiba Mais",to:"/saibaMais"}]}},methods:{},computed:{isLogged(){return this.$store.getters.isLogged}}};const U=(0,r.Z)(x,[["render",g],["__scopeId","data-v-3bc00920"]]);var N=U;const M={class:"cards"},q={class:"text"},$=["src"],A={class:"paragraph"};function z(e,a,t,s,i,n){const r=(0,o.up)("HeaderComponent"),l=(0,o.up)("SubtitleComponent");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r),(0,o.Wm)(l,{label1:"Agendar consultas online nunca foi tão simples.",label2:"Veja como funciona!"}),(0,o._)("section",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cards,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"card-item"},[(0,o._)("div",q,[(0,o._)("img",{class:"icon",src:e.url,alt:"Icon"},null,8,$),(0,o._)("h3",null,(0,u.zw)(a+1+e.type),1)]),(0,o._)("div",A,[(0,o._)("p",null,(0,u.zw)(e.text),1)])])))),128))])])}var T={name:"SaibaMaisPage",components:{HeaderComponent:D,SubtitleComponent:S},data(){return{cards:[{url:"/assets/imgs/iconRegister.svg",type:". Cadastro",text:"Faça seu cadastro para ter acesso aos serviços disponíveis. Se você já possui cadastro, clique em LOGIN."},{url:"/assets/imgs/iconConfirmar.svg",type:". Selecione o Serviço",text:"Escolha o serviço para o qual deseja agendar o atendimento."},{url:"/assets/imgs/iconCalendario.svg",type:". Escolha o dia e horário",text:"Informe o dia e horário, dentre os horários disponíveis e salve o Agendamento."},{url:"/assets/imgs/iconFinalizar.svg",type:". Finalize o agendamento",text:"No dia agendado, dirija-se até o local do atendimento, confirme sua presença e aguarde ser chamado."}]}}};const H=(0,r.Z)(T,[["render",z],["__scopeId","data-v-9435ba5a"]]);var I=H;const W=e=>((0,o.dD)("data-v-69dbb6de"),e=e(),(0,o.Cn)(),e),L={class:"body"},O={class:"container"},Z={action:"#"},Y={class:"form-content"},j=W((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("div",{class:"form-name"},[(0,o._)("h1",null,"LOGIN")])],-1))),E={class:"form-input"},Q={class:"textfield"},R=W((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),K={class:"textfield"},B=W((()=>(0,o._)("label",{for:"password"},"Senha",-1))),G=W((()=>(0,o._)("div",null,[(0,o._)("p",null,"ou")],-1))),J=W((()=>(0,o._)("button",{type:"button",class:"register-btn"},"Cadastre-se",-1)));function X(e,a,t,i,n,r){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",L,[(0,o._)("div",O,[(0,o._)("form",Z,[(0,o._)("div",Y,[j,(0,o._)("div",E,[(0,o._)("div",null,[(0,o._)("div",Q,[R,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.user.email=e),id:"email",type:"email",name:"email",placeholder:"Digite seu email"},null,512),[[s.nr,n.user.email]])]),(0,o._)("div",K,[B,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.user.password=e),id:"password",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,512),[[s.nr,n.user.password]])])]),(0,o._)("div",null,[(0,o._)("button",{onClick:a[2]||(a[2]=(...e)=>r.login&&r.login(...e)),type:"submit",class:"enter-btn"},"Entrar")]),G,(0,o._)("div",null,[(0,o.Wm)(l,{to:"/cadastrar"},{default:(0,o.w5)((()=>[J])),_:1})])])])])])])}t(560);var ee=t(4161);const ae=ee.Z.create({baseURL:"https://projeto-saude-backend.vercel.app/api"});var te=ae,se=t(3836),oe={name:"LoginPage",data(){return{user:{email:"",password:""}}},methods:{async login(e){e.preventDefault();const a="/auth/login";try{const e=await te.post(a,{email:this.user.email,senha:this.user.password}),t=e.data.token,s=e.data.id;t&&s&&(localStorage.setItem("token",t),localStorage.setItem("id",s),se.Am.success("Logado com sucesso!",{autoClose:2e3,position:"top-right"}),this.$store.commit("login"),setTimeout((()=>{if(!e.data.admin)return this.$router.push("/");this.$router.push("/ubs")}),2e3))}catch(t){return void se.Am.error(t.response.data["msg"],{autoClose:2e3})}}}};const ie=(0,r.Z)(oe,[["render",X],["__scopeId","data-v-69dbb6de"]]);var ne=ie;const re=e=>((0,o.dD)("data-v-6f7a26c8"),e=e(),(0,o.Cn)(),e),le={class:"body"},de={class:"container"},ce={class:"form"},ue={class:"form-header"},me=re((()=>(0,o._)("div",{class:"title"},[(0,o._)("h1",null,"Cadastre-se")],-1))),pe=re((()=>(0,o._)("button",{class:"entrar-botao"},"Login",-1))),he={class:"form-group"},ge={class:"box-dadosPessoais box"},be=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Dados pessoais")],-1))),ve=re((()=>(0,o._)("label",{for:"firstname"},"Primeiro Nome",-1))),we={class:"validacao"},_e=re((()=>(0,o._)("label",{for:"lastname"},"Sobrenome",-1))),ye={class:"validacao"},fe=re((()=>(0,o._)("label",{for:"cpf"},"CPF",-1))),Ce={class:"validacao"},De=re((()=>(0,o._)("label",{for:"sus"},"Número do cartão do SUS",-1))),ke={class:"validacao"},Ve=re((()=>(0,o._)("label",{for:"telefone"},"Número do telefone",-1))),Pe={class:"validacao"},Fe=re((()=>(0,o._)("label",{for:"date"},"Data de Nascimento",-1))),Se={class:"validacao"},xe={class:"box-endereco box"},Ue=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Endereço")],-1))),Ne=re((()=>(0,o._)("label",{for:"cep"},"Cep",-1))),Me={class:"validacao"},qe=re((()=>(0,o._)("label",{for:"rua"},"Rua",-1))),$e={class:"validacao"},Ae=re((()=>(0,o._)("label",{for:"numeroCasa"},"Número",-1))),ze={class:"validacao"},Te=re((()=>(0,o._)("label",{for:"bairro"},"Bairro",-1))),He={class:"validacao"},Ie=re((()=>(0,o._)("label",{for:"city"},"Cidade",-1))),We={class:"validacao"},Le=re((()=>(0,o._)("label",{for:"state"},"Estado",-1))),Oe={class:"validacao"},Ze={class:"box-login box"},Ye=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Login")],-1))),je=re((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),Ee={class:"validacao"},Qe=re((()=>(0,o._)("label",{for:"password"},"Senha",-1))),Re={class:"validacao"},Ke=re((()=>(0,o._)("label",{for:"confirmpassword"},"Confirme sua senha",-1))),Be={class:"validacao"},Ge=(0,o.uE)('<div class="form-gender-group box" data-v-6f7a26c8><div class="divisao" data-v-6f7a26c8><div class="gender-title" data-v-6f7a26c8><legend data-v-6f7a26c8><p data-v-6f7a26c8>Gênero</p></legend></div><div class="box-gender" data-v-6f7a26c8><div class="linha-genero" data-v-6f7a26c8><input type="radio" id="famale" name="gender" data-v-6f7a26c8><label for="famale" data-v-6f7a26c8>Feminino</label></div><div class="linha-genero" data-v-6f7a26c8><input type="radio" id="male" name="gender" data-v-6f7a26c8><label for="male" data-v-6f7a26c8>Masculino</label></div><div class="linha-genero" data-v-6f7a26c8><input type="radio" id="others" name="gender" data-v-6f7a26c8><label for="others" data-v-6f7a26c8>Outros</label></div></div></div></div>',1),Je={class:"divisao"},Xe={class:"div-botao-ok"};function ea(e,a,t,i,n,r){const l=(0,o.up)("router-link"),d=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",le,[(0,o._)("div",de,[(0,o._)("form",ce,[(0,o._)("div",ue,[me,(0,o._)("div",null,[(0,o.Wm)(l,{to:"/login"},{default:(0,o.w5)((()=>[pe])),_:1})])]),(0,o._)("div",he,[(0,o.wy)((0,o._)("div",ge,[be,ve,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.name},"required"]),"onUpdate:modelValue":a[0]||(a[0]=e=>n.user.name=e),id:"firstname",type:"text",name:"firstname",placeholder:"Digite seu primeiro nome"},null,2),[[s.nr,n.user.name]]),(0,o.wy)((0,o._)("span",we,"Nome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.name]]),_e,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.lastName},"required"]),"onUpdate:modelValue":a[1]||(a[1]=e=>n.user.lastName=e),id:"lastname",type:"text",name:"lastname",placeholder:"Digite seu sobrenome"},null,2),[[s.nr,n.user.lastName]]),(0,o.wy)((0,o._)("span",ye,"Sobrenome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.lastName]]),fe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cpf},"required"]),"onUpdate:modelValue":a[2]||(a[2]=e=>n.user.cpf=e),id:"cpf",type:"text",name:"cpf",placeholder:"Digite seu CPF",maxlength:"14"},null,2),[[s.nr,n.user.cpf],[d,"###.###.###-##"]]),(0,o.wy)((0,o._)("span",Ce,"CPF inválido!",512),[[s.F8,!n.validations.cpf]]),De,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.susNumber},"required"]),"onUpdate:modelValue":a[3]||(a[3]=e=>n.user.susNumber=e),id:"sus",type:"text",name:"sus",placeholder:"Digite o número do seu cartão SUS",maxlength:"18"},null,2),[[s.nr,n.user.susNumber],[d,"### #### #### ####"]]),(0,o.wy)((0,o._)("span",ke,"Número do seu cartão SUS inválido!",512),[[s.F8,!n.validations.susNumber]]),Ve,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.telephone},"required"]),"onUpdate:modelValue":a[4]||(a[4]=e=>n.user.telephone=e),id:"telefone",type:"text",name:"telefone",placeholder:"Digite o seu telefone",maxlength:"15"},null,2),[[s.nr,n.user.telephone],[d,"(##) #####-####"]]),(0,o.wy)((0,o._)("span",Pe,"Telefone inválido!",512),[[s.F8,!n.validations.telephone]]),Fe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.birthday},"required"]),"onUpdate:modelValue":a[5]||(a[5]=e=>n.user.birthday=e),type:"date",id:"start",name:"date"},null,2),[[s.nr,n.user.birthday]]),(0,o.wy)((0,o._)("span",Se,"Data inválida!",512),[[s.F8,!n.validations.birthday]])],512),[[s.F8,0===n.currentForm]]),(0,o.wy)((0,o._)("div",xe,[Ue,Ne,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cep},"required"]),"onUpdate:modelValue":a[6]||(a[6]=e=>n.user.cep=e),id:"cep",type:"text",name:"cep",size:"10",maxlength:"9",placeholder:"Digite seu cep",onBlur:a[7]||(a[7]=e=>r.handleCep())},null,34),[[s.nr,n.user.cep]]),(0,o.wy)((0,o._)("span",Me,"Cep inválido!",512),[[s.F8,!n.validations.cep]]),qe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.street},"required"]),"onUpdate:modelValue":a[8]||(a[8]=e=>n.user.street=e),id:"rua",type:"text",name:"rua",placeholder:"Digite a rua"},null,2),[[s.nr,n.user.street]]),(0,o.wy)((0,o._)("span",$e,"Rua inválida!",512),[[s.F8,!n.validations.street]]),Ae,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.houseNumber},"required"]),"onUpdate:modelValue":a[9]||(a[9]=e=>n.user.houseNumber=e),id:"numeroCasa",type:"text",name:"numeroCasa",placeholder:"Digite o numero da casa"},null,2),[[s.nr,n.user.houseNumber]]),(0,o.wy)((0,o._)("span",ze,"Número inválido!",512),[[s.F8,!n.validations.houseNumber]]),Te,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.neighborhood},"required"]),"onUpdate:modelValue":a[10]||(a[10]=e=>n.user.neighborhood=e),id:"bairro",type:"text",name:"bairro",placeholder:"Digite o bairro"},null,2),[[s.nr,n.user.neighborhood]]),(0,o.wy)((0,o._)("span",He,"Bairro inválido!",512),[[s.F8,!n.validations.neighborhood]]),Ie,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.city},"required"]),"onUpdate:modelValue":a[11]||(a[11]=e=>n.user.city=e),id:"cidade",type:"text",name:"cidade",size:"40",placeholder:"Digite a cidade"},null,2),[[s.nr,n.user.city]]),(0,o.wy)((0,o._)("span",We,"Cidade inválida!",512),[[s.F8,!n.validations.city]]),Le,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.state},"required"]),"onUpdate:modelValue":a[12]||(a[12]=e=>n.user.state=e),id:"uf",type:"text",name:"uf",size:"40",placeholder:"Digite o estado"},null,2),[[s.nr,n.user.state]]),(0,o.wy)((0,o._)("span",Oe,"Estado inválido!",512),[[s.F8,!n.validations.state]])],512),[[s.F8,1===n.currentForm]]),(0,o.wy)((0,o._)("div",Ze,[Ye,je,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.email},"required"]),"onUpdate:modelValue":a[13]||(a[13]=e=>n.user.email=e),id:"email",type:"email",name:"email","data-mask":"email",placeholder:"Digite seu email"},null,2),[[s.nr,n.user.email]]),(0,o.wy)((0,o._)("span",Ee,"Email inválido!",512),[[s.F8,!n.validations.email]]),Qe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.password},"required"]),"onUpdate:modelValue":a[14]||(a[14]=e=>n.user.password=e),id:"senha",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,2),[[s.nr,n.user.password]]),(0,o.wy)((0,o._)("span",Re,"A senha deve conter no mínimo 8 caracteres!",512),[[s.F8,!n.validations.password]]),Ke,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.confirmPassword},"required"]),"onUpdate:modelValue":a[15]||(a[15]=e=>n.user.confirmPassword=e),id:"validacaoSenha",type:"password",name:"confirmpassword",placeholder:"Digite novamente a senha",size:"20"},null,2),[[s.nr,n.user.confirmPassword]]),(0,o.wy)((0,o._)("span",Be,"As senhas não conferem!",512),[[s.F8,!n.validations.confirmPassword]])],512),[[s.F8,2===n.currentForm]]),Ge,(0,o._)("div",Je,[(0,o._)("div",Xe,[(0,o._)("button",{type:"button",onClick:a[16]||(a[16]=e=>r.backForm()),class:"botao-voltar"}," Voltar "),n.currentForm<2?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:a[17]||(a[17]=e=>r.nextForm()),class:"botao-continuar"}," Continuar ")):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",onClick:a[18]||(a[18]=e=>r.sendForm()),class:"botao-ok"}," Cadastrar "))])])])])])])}var aa=t(6413),ta={name:"CadastrarPage",data(){return{currentForm:0,user:{name:"",lastName:"",cpf:"",susNumber:"",telephone:"",birthday:"",cep:"",street:"",houseNumber:"",neighborhood:"",city:"",state:"",email:"",password:"",confirmPassword:""},validations:{name:!0,lastName:!0,cpf:!0,susNumber:!0,telephone:!0,birthday:!0,cep:!0,street:!0,houseNumber:!0,neighborhood:!0,city:!0,state:!0,email:!0,password:!0,confirmPassword:!0}}},methods:{nextForm(){if((0!==this.currentForm||!1!==this.form1Validation())&&(1!==this.currentForm||!1!==this.form2Validation()))return this.currentForm<2?this.currentForm++:this.currentForm},backForm(){return 0===this.currentForm&&this.$router.push("/"),0===this.currentForm?this.currentForm:this.currentForm--},sendForm(){2===this.currentForm&&!1===this.form3Validation()||this.register()},nameValidation(){return this.user.name.length<3?this.validations.name=!1:this.validations.name=!0},lastNameValidation(){return this.user.lastName.length<3?this.validations.lastName=!1:this.validations.lastName=!0},cpfValidation(){return this.user.cpf.length<14?this.validations.cpf=!1:this.validations.cpf=!0},susNumberValidation(){return this.user.susNumber.length<18?this.validations.susNumber=!1:this.validations.susNumber=!0},telephoneValidation(){return this.user.telephone.length<15?this.validations.telephone=!1:this.validations.telephone=!0},birthdayValidation(){const e=/(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])/;return e.test(this.user.birthday)?this.validations.birthday=!0:this.validations.birthday=!1},cepValidation(){return this.user.cep.length<8?this.validations.cep=!1:this.validations.cep=!0},streetValidation(){return this.user.street.length<3?this.validations.street=!1:this.validations.street=!0},houseNumberValidation(){return this.user.houseNumber.length<1?this.validations.houseNumber=!1:this.validations.houseNumber=!0},neighborhoodValidation(){return this.user.neighborhood.length<3?this.validations.neighborhood=!1:this.validations.neighborhood=!0},cityValidation(){return this.user.city.length<3?this.validations.city=!1:this.validations.city=!0},stateValidation(){return this.user.state.length<1?this.validations.state=!1:this.validations.state=!0},emailValidation(){const e=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return e.test(this.user.email)?this.validations.email=!0:this.validations.email=!1},passwordValidation(){return this.user.password.length<8?this.validations.password=!1:this.validations.password=!0},confirmPasswordValidation(){return this.user.confirmPassword!==this.user.password?this.validations.confirmPassword=!1:this.validations.confirmPassword=!0},form1Validation(){return this.nameValidation(),this.lastNameValidation(),this.cpfValidation(),this.susNumberValidation(),this.telephoneValidation(),this.birthdayValidation(),!!(this.validations.name&&this.validations.lastName&&this.validations.cpf&&this.validations.susNumber&&this.validations.telephone&&this.validations.birthday)},form2Validation(){return this.cepValidation(),this.streetValidation(),this.houseNumberValidation(),this.neighborhoodValidation(),this.cityValidation(),this.stateValidation(),!!(this.validations.cep&&this.validations.street&&this.validations.houseNumber&&this.validations.neighborhood&&this.validations.city&&this.validations.state)},form3Validation(){return this.emailValidation(),this.passwordValidation(),this.confirmPasswordValidation(),!!(this.validations.email&&this.validations.password&&this.validations.confirmPassword)},async handleCep(){try{const e=await te.get(`https://viacep.com.br/ws/${this.user.cep}/json/`);this.user.street=e.data.logradouro,this.user.neighborhood=e.data.bairro,this.user.city=e.data.localidade,this.user.state=e.data.uf}catch(e){se.Am.error("Cep não encontrado ou inválido!",{autoClose:5e3,position:"top-right"})}},async register(){const e="/auth/register";try{const a=await te.post(e,{email:this.user.email,senha:this.user.password,cpf:this.user.cpf,nome:this.user.name,sobrenome:this.user.lastName,data_nasc:(0,aa.p6)(this.parseDate(this.user.birthday),"D-MM-YYYY"),numero_sus:this.user.susNumber,cep:this.user.cep,rua:this.user.street,bairro:this.user.neighborhood,cidade:this.user.city,estado:this.user.state,numero:this.user.houseNumber,confirmarSenha:this.user.confirmPassword});se.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/login")}),2e3)}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},parseDate(e){const[a,t,s]=e.split("-");return new Date(a,t-1,s)}}};const sa=(0,r.Z)(ta,[["render",ea],["__scopeId","data-v-6f7a26c8"]]);var oa=sa;const ia={id:"user"};function na(e,a,t,s,i,n){const r=(0,o.up)("HeaderComponent"),l=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",ia,[(0,o.Wm)(r),(0,o.Wm)(l)])}const ra={class:"content"};function la(e,a,t,s,i,n){const r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",ra,[(0,o.Wm)(r,{name:"userContent"})])}var da={name:"ContentPage"};const ca=(0,r.Z)(da,[["render",la]]);var ua=ca,ma={name:"UserPage",components:{HeaderComponent:D,ContentComponent:ua}};const pa=(0,r.Z)(ma,[["render",na]]);var ha=pa;const ga={id:"schedule"},ba={class:"form-select"},va=(0,o._)("label",{class:"options-label",for:"ubs"},"UBS",-1),wa=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione uma UBS",-1),_a=["value"],ya=(0,o._)("label",{class:"options-label",for:"ubs"},"Tipo de consulta",-1),fa=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione o tipo de consulta",-1),Ca=["value"];function Da(e,a,t,i,n,r){const l=(0,o.up)("TableComponent");return(0,o.wg)(),(0,o.iD)("div",ga,[(0,o.wy)((0,o._)("div",ba,[va,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":a[0]||(a[0]=e=>n.selectedUbs=e)},[wa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsUbs,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e._id},(0,u.zw)(e.nome),9,_a)))),128))],512),[[s.bM,n.selectedUbs]]),ya,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":a[1]||(a[1]=e=>n.selectedQuery=e)},[fa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsQuery,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e},(0,u.zw)(e),9,Ca)))),128))],512),[[s.bM,n.selectedQuery]]),(0,o._)("button",{onClick:a[2]||(a[2]=e=>r.loadTable()),class:"schedule-btn"},"Ver consultas")],512),[[s.F8,!n.tableView]]),(0,o.wy)((0,o.Wm)(l,null,null,512),[[s.F8,n.tableView]])])}const ka={key:0,id:"table"},Va={class:"table"},Pa={class:"table-head"},Fa={class:"table-row"},Sa={class:"table-body"},xa={class:"table-cell"},Ua={class:"table-cell"},Na={class:"table-cell"},Ma={class:"table-cell"},qa={class:"table-cell"},$a={class:"table-cell"},Aa={class:"table-cell"},za=["onClick"],Ta=["onClick"],Ha={class:"group-btn"};function Ia(e,a,t,i,n,r){const l=(0,o.up)("fa");return r.tableData?((0,o.wg)(),(0,o.iD)("div",ka,[(0,o._)("table",Va,[(0,o._)("thead",Pa,[(0,o._)("tr",Fa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,a)=>((0,o.wg)(),(0,o.iD)("th",{key:a,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",Sa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.tableData.length,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e,class:"table-row"},[(0,o._)("td",xa,(0,u.zw)(e+5*(n.currentPage-1)),1),(0,o._)("td",Ua,(0,u.zw)(r.tableData[e-1].nome_ubs),1),(0,o._)("td",Na,(0,u.zw)(r.tableData[e-1].nome_medico),1),(0,o._)("td",Ma,(0,u.zw)(r.tableData[e-1].tipo),1),(0,o._)("td",qa,(0,u.zw)(r.tableData[e-1].dia),1),(0,o._)("td",$a,(0,u.zw)(r.tableData[e-1].horario),1),(0,o._)("td",Aa,[(0,o.wy)((0,o._)("button",{class:"check",onClick:a=>r.makeSchedule(e-1)},[(0,o.Uk)(" Selecionar"),(0,o.Wm)(l,{class:"calendar-check",icon:"calendar-check"})],8,za),[[s.F8,n.buttonView]]),(0,o.wy)((0,o._)("button",{class:"cancel",onClick:a=>r.cancelSchedule(e-1)},[(0,o.Uk)(" Cancelar"),(0,o.Wm)(l,{class:"xmark-cancel",icon:"xmark-circle"})],8,Ta),[[s.F8,"/paciente/minhasconsultas"===this.$route.path]])])])))),128))])]),(0,o._)("div",Ha,[(0,o._)("button",{onClick:a[0]||(a[0]=e=>r.backPage()),class:"schedule-btn"},"Voltar"),(0,o.wy)((0,o._)("button",{onClick:a[1]||(a[1]=e=>r.nextPage()),class:"schedule-btn"},"Carregar mais",512),[[s.F8,5===r.tableData.length]])])])):(0,o.kq)("",!0)}var Wa={name:"TableComponent",data(){return{tableHeader:["","UBS","Médico","Tipo","Dia","Horário",""],buttonView:!0,currentPage:1}},computed:{tableData(){return this.$store.state.tableData},loadMore(){return this.$store.state.loadMore}},methods:{async makeSchedule(e){const a=`/consulta/${this.tableData[e]._id}`;try{const t=await te.put(a,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});await this.$store.dispatch("loadTable"),se.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async cancelSchedule(e){const a=`/cancel/${this.tableData[e]._id}`;try{const t=await te.put(a,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});se.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadMyTable(){if("/paciente/minhasconsultas"===this.$route.path)try{this.buttonView=!1;const e=localStorage.getItem("id"),a=`/consulta/${e}/${this.currentPage}`,t=await te.get(a);t.data.length?(this.$store.commit("setTableData",t.data),this.$store.commit("setLoadMore",!0)):this.$store.commit("setLoadMore",!1)}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async decideTable(){"/paciente/minhasconsultas"!==this.$route.path?await this.$store.dispatch("loadTable"):this.loadMyTable()},backPage(){this.currentPage--,this.$store.commit("setPage",this.currentPage),this.currentPage<1?this.$router.push("/"):this.decideTable()},nextPage(){this.currentPage++,this.$store.commit("setPage",this.currentPage),this.decideTable()}},mounted(){this.loadMyTable(),this.$store.commit("setPage",this.currentPage)}};const La=(0,r.Z)(Wa,[["render",Ia]]);var Oa=La,Za={name:"SchedulePage",components:{TableComponent:Oa},data(){return{selectedUbs:"",selectedQuery:"",optionsQuery:[],optionsUbs:[],tableView:!1}},computed:{tableData(){return this.$store.state.tableData}},methods:{async loadOptions(){"/paciente/minhasconsultas"===this.$route.path&&(this.tableView=!0);const e="/options";try{const a=await te.get(e);this.optionsUbs=a.data.nomeUbs,this.optionsQuery=a.data.tipoConsulta}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadTable(){try{this.$store.commit("setUbs",this.selectedUbs),this.$store.commit("setQuery",this.selectedQuery),await this.$store.dispatch("loadTable"),this.tableView=!0}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}}},async mounted(){this.loadOptions()}};const Ya=(0,r.Z)(Za,[["render",Da]]);var ja=Ya;const Ea={id:"ubsPage"};function Qa(e,a,t,s,i,n){const r=(0,o.up)("HeaderComponent"),l=(0,o.up)("NavComponent"),d=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",Ea,[(0,o.Wm)(r),(0,o.Wm)(l),(0,o.Wm)(d)])}const Ra={key:0,class:"nav"},Ka=(0,o._)("div",{class:"link"},"Cadastrar médicos",-1),Ba=(0,o._)("div",{class:"link"},"Cadastrar consultas",-1),Ga=(0,o._)("div",{class:"link"},"Consultas gerais",-1);function Ja(e,a,t,i,n,r){const l=(0,o.up)("router-link"),d=(0,o.up)("fa");return(0,o.wg)(),(0,o.iD)("aside",{class:(0,u.C_)(["aside",{"menu-mobile":n.showMenu}])},[n.mobile?((0,o.wg)(),(0,o.iD)("nav",{key:1,class:(0,u.C_)(["nav",{"menu-mobile":n.showMenu}])},[(0,o.Wm)(d,{onClick:a[0]||(a[0]=e=>r.toggleMenu()),class:(0,u.C_)(["fa-bars",{"rotate-bars":n.showMenu}]),icon:"bars"},null,8,["class"]),(0,o.Wm)(l,{to:"/ubs"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",{onClick:a[1]||(a[1]=e=>r.toggleMenu()),class:"link"},"Cadastrar médicos",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(l,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",{onClick:a[2]||(a[2]=e=>r.toggleMenu()),class:"link"},"Cadastrar consultas",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(l,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",{onClick:a[3]||(a[3]=e=>r.toggleMenu()),class:"link"},"Consultas gerais",512),[[s.F8,n.showMenu]])])),_:1})],2)):((0,o.wg)(),(0,o.iD)("nav",Ra,[(0,o.Wm)(l,{to:"/ubs"},{default:(0,o.w5)((()=>[Ka])),_:1}),(0,o.Wm)(l,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[Ba])),_:1}),(0,o.Wm)(l,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[Ga])),_:1})]))],2)}var Xa={name:"NavComponent",data(){return{mobile:!1,showMenu:!1,windowWidth:null}},created(){window.addEventListener("resize",this.checkScreen),this.checkScreen(),console.log(this.windowWidth)},methods:{toggleMenu(){this.showMenu=!this.showMenu},checkScreen(){this.windowWidth=window.innerWidth,this.windowWidth<=890?this.mobile=!0:this.mobile=!1}}};const et=(0,r.Z)(Xa,[["render",Ja]]);var at=et,tt={name:"UbsPage",components:{HeaderComponent:D,NavComponent:at,ContentComponent:ua}};const st=(0,r.Z)(tt,[["render",Qa]]);var ot=st;const it=e=>((0,o.dD)("data-v-2f70c944"),e=e(),(0,o.Cn)(),e),nt={id:"doctorForm"},rt={class:"form-doctor"},lt=it((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre o médico")],-1))),dt={class:"input-group"},ct={class:"input-field"},ut={class:"input-field"},mt={class:"input-field"},pt={class:"input-field"};function ht(e,a,t,i,n,r){const l=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",nt,[(0,o._)("form",rt,[lt,(0,o._)("div",dt,[(0,o._)("div",ct,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.doctor.nome=e),class:"inputs",type:"text",name:"name",placeholder:"Digite o nome do médico",id:"name"},null,512),[[s.nr,n.doctor.nome]])]),(0,o._)("div",ut,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.doctor.cpf=e),class:"inputs",type:"text",name:"cpf",placeholder:"Digite o CPF do médico",id:"cpf"},null,512),[[s.nr,n.doctor.cpf],[l,"###.###.###-##"]])]),(0,o._)("div",mt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.doctor.crm=e),class:"inputs",type:"text",name:"crm",placeholder:"Digite o CRM do médico",id:"crm"},null,512),[[s.nr,n.doctor.crm],[l,"######/##"]])]),(0,o._)("div",pt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.doctor.especialidade=e),class:"inputs",type:"text",name:"especialidade",placeholder:"Digite a especialidade do médico",id:"especialidade"},null,512),[[s.nr,n.doctor.especialidade]])]),(0,o._)("input",{onClick:a[4]||(a[4]=e=>r.registerDoctor()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var gt={name:"RegisterDoctorComponent",data(){return{doctor:{nome:"",cpf:"",crm:"",especialidade:""}}},methods:{async registerDoctor(){const e="/doctor";try{const a=await te.post(e,this.doctor);se.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"})}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}}}};const bt=(0,r.Z)(gt,[["render",ht],["__scopeId","data-v-2f70c944"]]);var vt=bt;const wt=e=>((0,o.dD)("data-v-77f1c94f"),e=e(),(0,o.Cn)(),e),_t={id:"queryForm"},yt={class:"form-query"},ft=wt((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre a consulta")],-1))),Ct={class:"input-group"},Dt={class:"select-group"},kt=wt((()=>(0,o._)("option",{value:"",selected:"",disabled:""},"Selecione o médico",-1))),Vt=["value"],Pt={class:"input-field"},Ft=wt((()=>(0,o._)("label",{for:"date",class:"label"},"Data",-1))),St={class:"input-field"},xt=wt((()=>(0,o._)("label",{for:"start",class:"label"},"Início do atendimento",-1))),Ut={class:"input-field"},Nt=wt((()=>(0,o._)("label",{for:"end",class:"label"},"Término do atendimento",-1))),Mt={class:"input-field"},qt=wt((()=>(0,o._)("label",{for:"range",class:"label"},"Tempo médio da consulta",-1)));function $t(e,a,t,i,n,r){return(0,o.wg)(),(0,o.iD)("div",_t,[(0,o._)("form",yt,[ft,(0,o._)("div",Ct,[(0,o._)("div",Dt,[(0,o.wy)((0,o._)("select",{name:"doctor",id:"doctor",class:"select","onUpdate:modelValue":a[0]||(a[0]=e=>n.query.doctor=e)},[kt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.doctorOptions,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e},(0,u.zw)(e.nome)+" - "+(0,u.zw)(e.especialidade),9,Vt)))),128))],512),[[s.bM,n.query.doctor]])]),(0,o._)("div",Pt,[Ft,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[1]||(a[1]=e=>n.query.date=e),type:"date",name:"date",id:"date"},null,512),[[s.nr,n.query.date]])]),(0,o._)("div",St,[xt,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[2]||(a[2]=e=>n.query.start=e),type:"time",name:"start",id:"start"},null,512),[[s.nr,n.query.start]])]),(0,o._)("div",Ut,[Nt,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[3]||(a[3]=e=>n.query.end=e),type:"time",name:"end",id:"end"},null,512),[[s.nr,n.query.end]])]),(0,o._)("div",Mt,[qt,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[4]||(a[4]=e=>n.query.range=e),type:"number",name:"range",id:"range"},null,512),[[s.nr,n.query.range]])]),(0,o._)("input",{onClick:a[5]||(a[5]=e=>r.register()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var At={name:"RegisterQueriesComponent",data(){return{doctorOptions:[],query:{date:"",start:"",end:"",range:Number,doctor:""}}},methods:{async loadOptions(){const e=`/options/${localStorage.getItem("id")}`;console.log(e);try{const a=await te.get(e);this.doctorOptions=a.data}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async register(){const e="/query",a=parseInt(60*this.query.start.split(":")[0])+parseInt(this.query.start.split(":")[1]),t=parseInt(60*this.query.end.split(":")[0])+parseInt(this.query.end.split(":")[1]);try{const s=this.createDataArray(a,t,this.query.range);if(!s)return;const o=await te.post(e,{consultas:s});se.Am.success(o.data["msg"],{autoClose:2e3,position:"top-right"})}catch(s){se.Am.error(s.response.data["msg"],{autoClose:2e3,position:"top-right"})}},createDataArray(e,a,t){const s=[];let o=e;while(o<=a){const e=Math.floor(o/60),a=o%60,i=`${e}:${a<10?"0":""}${a}`;s.push({data:(0,aa.p6)(this.parseDate(this.query.date),"D-MM-YYYY"),id_medico:this.query.doctor._id,id_ubs:localStorage.getItem("id"),horario:i}),o+=t}return s},parseDate(e){const[a,t,s]=e.split("-");return new Date(a,t-1,s)}},async mounted(){this.loadOptions()}};const zt=(0,r.Z)(At,[["render",$t],["__scopeId","data-v-77f1c94f"]]);var Tt=zt;const Ht={key:0,id:"ubsTable"},It={class:"table"},Wt={class:"table-head"},Lt={class:"table-row"},Ot={class:"table-body"},Zt={class:"table-cell"},Yt={class:"table-cell"},jt={class:"table-cell"},Et={class:"table-cell"},Qt={class:"table-cell"},Rt={class:"table-cell"},Kt={class:"table-cell"},Bt=["onClick"],Gt={class:"group-btn"};function Jt(e,a,t,i,n,r){const l=(0,o.up)("fa");return n.tableData?((0,o.wg)(),(0,o.iD)("div",Ht,[(0,o._)("table",It,[(0,o._)("thead",Wt,[(0,o._)("tr",Lt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,a)=>((0,o.wg)(),(0,o.iD)("th",{key:a,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",Ot,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableData,((e,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:a,class:"table-row",style:(0,u.j5)({background:r.hasMarked(e)})},[(0,o._)("td",Zt,(0,u.zw)(a+5*(n.currentPage-1)+1),1),(0,o._)("td",Yt,(0,u.zw)(e.nome_medico),1),(0,o._)("td",jt,(0,u.zw)(e.tipo),1),(0,o._)("td",Et,(0,u.zw)(e.dia),1),(0,o._)("td",Qt,(0,u.zw)(e.horario),1),(0,o._)("td",Rt,(0,u.zw)(e.nome_paciente),1),(0,o._)("td",Kt,[(0,o._)("button",{class:"cancel",onClick:e=>r.deleteSchedule(a)},[(0,o.Uk)(" Apagar"),(0,o.Wm)(l,{class:"xmark-cancel",icon:"xmark-circle"})],8,Bt)])],4)))),128))])]),(0,o._)("div",Gt,[(0,o.wy)((0,o._)("button",{onClick:a[0]||(a[0]=e=>r.backPage()),class:"schedule-btn"},"Voltar",512),[[s.F8,n.currentPage>1]]),(0,o.wy)((0,o._)("button",{onClick:a[1]||(a[1]=e=>r.nextPage()),class:"schedule-btn"}," Carregar mais ",512),[[s.F8,5===n.tableData.length]])])])):(0,o.kq)("",!0)}var Xt={name:"UbsTableComponent",data(){return{tableHeader:["","Médico","Tipo","Dia","Horário","Paciente",""],tableData:[],currentPage:1}},methods:{async loadData(){try{const e=`/consultas/${this.currentPage}/${localStorage.getItem("id")}`;console.log(e);const a=await te.get(e);this.tableData=a.data}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}},nextPage(){this.currentPage++,this.loadData()},backPage(){this.currentPage--,this.loadData()},async deleteSchedule(e){try{const a=`/delete/${this.tableData[e]._id}`,t=await te.delete(a);se.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),this.loadData()}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},hasMarked(e){return e.nome_paciente?"#8a99e3":"#dce2fa"}},async mounted(){this.loadData()}};const es=(0,r.Z)(Xt,[["render",Jt]]);var as=es,ts=t(65),ss=new ts.ZP.Store({state:{isLogged:!1,currentPage:1,selectedUbs:"",selectedQuery:"",tableData:{},loadMore:!0},mutations:{login(e){e.isLogged=!0},logout(e){e.isLogged=!1},setPage(e,a){a>0&&(e.currentPage=a)},setUbs(e,a){e.selectedUbs=a},setQuery(e,a){e.selectedQuery=a},setTableData(e,a){e.tableData=a},setLoadMore(e,a){e.loadMore=a}},getters:{isLogged:e=>e.isLogged},actions:{async initializeApp({commit:e}){const a=localStorage.getItem("token");if(a){const s="/auth/validateToken";try{const t=await te.post(s,{token:a});!0===t.data.validate?e("login"):e("logout")}catch(t){console.error("Erro na validação do token:",t),e("logout")}}},async validateAdmin({commit:e}){const a=localStorage.getItem("token");if(a){const s="/auth/admin";try{const t=await te.post(s,{token:a});!0===t.data.validate?e("login"):e("logout")}catch(t){console.error("Erro na validação do token:",t),e("logout")}}},async loadTable(e){const a=`/auth/consulta/${e.state.currentPage}/${e.state.selectedUbs}/${e.state.selectedQuery}`;try{const t=await te.get(a);t.data.length?(e.commit("setTableData",t.data),e.commit("setLoadMore",!0)):e.commit("setLoadMore",!1)}catch(t){console.log(t)}}}});const os=[{name:"homeScreen",path:"/",component:N},{name:"saibaMaisScreen",path:"/saibaMais",component:I},{name:"loginScreen",path:"/login",component:ne},{name:"RegisterScreen",path:"/cadastrar",component:oa},{name:"UserScreen",path:"/paciente",component:ha,meta:{requiresAuth:!0},children:[{name:"MainContent",path:"",components:{userContent:ja}},{name:"AgendarContent",path:"/paciente/minhasconsultas",components:{userContent:ja}}]},{name:"UbsScreen",path:"/ubs",component:ot,meta:{requiresAdmin:!0},children:[{name:"RegisterDoctorContent",path:"",components:{userContent:vt}},{name:"RegisterQueryContent",path:"/ubs/consulta",components:{userContent:Tt}},{name:"UbsTableContent",path:"/ubs/consultas",components:{userContent:as}}]}],is=(0,c.p7)({history:(0,c.PO)(),routes:os});is.beforeEach((async(e,a,t)=>{await ss.dispatch("initializeApp"),e.meta.requiresAuth?ss.state.isLogged?(t(),ss.commit("setTableData",{})):t("/login"):e.meta.requiresAdmin?(await ss.dispatch("validateAdmin"),ss.state.isLogged?t():t("/login")):t()}));var ns=is,rs=t(9414),ls=t.n(rs),ds=t(3494),cs=t(7749),us=t(8539);te.interceptors.request.use((e=>(e.headers.Authorization=localStorage.getItem("token"),e)),(e=>Promise.reject(e)));ds.vI.add(us.Ry6,us.$9F,us.xiG),(0,s.ri)(d).component("fa",cs.GN).use(ns).use(ss).use(ls()).mount("#app")}},a={};function t(s){var o=a[s];if(void 0!==o)return o.exports;var i=a[s]={exports:{}};return e[s].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,s,o,i){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],i=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(r=!1,i<n&&(n=i));if(r){e.splice(c--,1);var d=o();void 0!==d&&(a=d)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,o,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var o,i,n=s[0],r=s[1],l=s[2],d=0;if(n.some((function(a){return 0!==e[a]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(l)var c=l(t)}for(a&&a(s);d<n.length;d++)i=n[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(3270)}));s=t.O(s)})();
//# sourceMappingURL=app.05079856.js.map