(function(){"use strict";var e={2218:function(e,t,a){var s=a(9242),o=a(3396);function i(e,t,a,s,i,n){const l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(l)}var n={name:"App",components:{}},l=a(89);const r=(0,l.Z)(n,[["render",i]]);var d=r,c=a(2483),u=a(7139);const m={class:"section2"},p=["src"],h={class:"card-btn"};function b(e,t,a,i,n,l){const r=(0,o.up)("HeaderComponent"),d=(0,o.up)("SubtitleComponent"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r),(0,o.Wm)(d,{label1:"Faça seu agendamento online com comodidade,",label2:"em qualquer hora e lugar."}),(0,o._)("section",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cards,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:t,class:"card"},[(0,o._)("img",{src:e.url,alt:"Icon"},null,8,p),(0,o.Wm)(c,{to:e.to},{default:(0,o.w5)((()=>[(0,o._)("button",h,(0,u.zw)(e.text),1)])),_:2},1032,["to"])])),[[s.F8,e.show!==this.isLogged]]))),128))])])}const g=e=>((0,o.dD)("data-v-6635a546"),e=e(),(0,o.Cn)(),e),v={class:"header"},_=g((()=>(0,o._)("div",{class:"logo-field"},[(0,o._)("svg",{class:"logo",xmlns:"http://www.w3.org/2000/svg",fill:"#3a58f0",height:"1em",viewBox:"0 0 640 512"},[(0,o._)("path",{d:"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM288 160c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v48h48c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H352v48c0 8.8-7.2 16-16 16H304c-8.8 0-16-7.2-16-16V272H240c-8.8 0-16-7.2-16-16V224c0-8.8 7.2-16 16-16h48V160z"})]),(0,o._)("h1",{class:"logoName"},"AGENDASUS")],-1))),w=g((()=>(0,o._)("button",{class:"login-btn"},"Login",-1)));function y(e,t,a,s,i,n){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("header",v,[(0,o.Wm)(l,{to:"/"},{default:(0,o.w5)((()=>[_])),_:1}),(0,o._)("div",null,[n.isLogged?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[0]||(t[0]=e=>n.logout()),class:"login-btn logout"},"Sair")):((0,o.wg)(),(0,o.j4)(l,{key:0,to:"/login"},{default:(0,o.w5)((()=>[w])),_:1}))])])}var f={name:"HeaderComponent",data(){return{}},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("id"),this.$store.commit("logout"),this.$router.replace("/")}},computed:{isLogged(){return this.$store.getters.isLogged}}};const C=(0,l.Z)(f,[["render",y],["__scopeId","data-v-6635a546"]]);var D=C;const k={class:"section1"};function V(e,t,a,s,i,n){return(0,o.wg)(),(0,o.iD)("section",k,[(0,o._)("h2",null,(0,u.zw)(a.label1),1),(0,o._)("h2",null,(0,u.zw)(a.label2),1)])}var P={name:"SubtitleComponent",props:{label1:{},label2:{}}};const F=(0,l.Z)(P,[["render",V],["__scopeId","data-v-46b20a1a"]]);var S=F,x={name:"MainPage",components:{HeaderComponent:D,SubtitleComponent:S},data(){return{cards:[{url:"/assets/imgs/iconAgendar.svg",text:"Cadastre-se",to:"/cadastrar",show:!0},{url:"/assets/imgs/iconConsultar.svg",text:"Agende sua consulta",to:"/paciente"},{url:"/assets/imgs/notebook-svgrepo-com.svg",text:"Minhas consultas",to:"/paciente/minhasconsultas",show:!1},{url:"/assets/imgs/iconSaiba.svg",text:"Saiba Mais",to:"/saibaMais"}]}},methods:{},computed:{isLogged(){return this.$store.getters.isLogged}}};const U=(0,l.Z)(x,[["render",b],["__scopeId","data-v-3bc00920"]]);var N=U;const M={class:"cards"},q={class:"text"},$=["src"],A={class:"paragraph"};function z(e,t,a,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("SubtitleComponent");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l),(0,o.Wm)(r,{label1:"Agendar consultas online nunca foi tão simples.",label2:"Veja como funciona!"}),(0,o._)("section",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cards,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"card-item"},[(0,o._)("div",q,[(0,o._)("img",{class:"icon",src:e.url,alt:"Icon"},null,8,$),(0,o._)("h3",null,(0,u.zw)(t+1+e.type),1)]),(0,o._)("div",A,[(0,o._)("p",null,(0,u.zw)(e.text),1)])])))),128))])])}var T={name:"SaibaMaisPage",components:{HeaderComponent:D,SubtitleComponent:S},data(){return{cards:[{url:"/assets/imgs/iconRegister.svg",type:". Cadastro",text:"Faça seu cadastro para ter acesso aos serviços disponíveis. Se você já possui cadastro, clique em LOGIN."},{url:"/assets/imgs/iconConfirmar.svg",type:". Selecione o Serviço",text:"Escolha o serviço para o qual deseja agendar o atendimento."},{url:"/assets/imgs/iconCalendario.svg",type:". Escolha o dia e horário",text:"Informe o dia e horário, dentre os horários disponíveis e salve o Agendamento."},{url:"/assets/imgs/iconFinalizar.svg",type:". Finalize o agendamento",text:"No dia agendado, dirija-se até o local do atendimento, confirme sua presença e aguarde ser chamado."}]}}};const H=(0,l.Z)(T,[["render",z],["__scopeId","data-v-9435ba5a"]]);var I=H;const W=e=>((0,o.dD)("data-v-69dbb6de"),e=e(),(0,o.Cn)(),e),L={class:"body"},O={class:"container"},Z={action:"#"},Y={class:"form-content"},j=W((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("div",{class:"form-name"},[(0,o._)("h1",null,"LOGIN")])],-1))),E={class:"form-input"},Q={class:"textfield"},R=W((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),K={class:"textfield"},B=W((()=>(0,o._)("label",{for:"password"},"Senha",-1))),G=W((()=>(0,o._)("div",null,[(0,o._)("p",null,"ou")],-1))),J=W((()=>(0,o._)("button",{type:"button",class:"register-btn"},"Cadastre-se",-1)));function X(e,t,a,i,n,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",L,[(0,o._)("div",O,[(0,o._)("form",Z,[(0,o._)("div",Y,[j,(0,o._)("div",E,[(0,o._)("div",null,[(0,o._)("div",Q,[R,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.email=e),id:"email",type:"email",name:"email",placeholder:"Digite seu email"},null,512),[[s.nr,n.user.email]])]),(0,o._)("div",K,[B,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.password=e),id:"password",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,512),[[s.nr,n.user.password]])])]),(0,o._)("div",null,[(0,o._)("button",{onClick:t[2]||(t[2]=(...e)=>l.login&&l.login(...e)),type:"submit",class:"enter-btn"},"Entrar")]),G,(0,o._)("div",null,[(0,o.Wm)(r,{to:"/cadastrar"},{default:(0,o.w5)((()=>[J])),_:1})])])])])])])}a(560);var ee=a(4161);const te=ee.Z.create({baseURL:"https://projeto-saude-backend.vercel.app/api"});var ae=te,se=a(3836),oe={name:"LoginPage",data(){return{user:{email:"",password:""}}},methods:{async login(e){e.preventDefault();const t="/auth/login";try{const e=await ae.post(t,{email:this.user.email,senha:this.user.password}),a=e.data.token,s=e.data.id;a&&s&&(localStorage.setItem("token",a),localStorage.setItem("id",s),se.Am.success("Logado com sucesso!",{autoClose:2e3,position:"top-right"}),this.$store.commit("login"),setTimeout((()=>{if(!e.data.admin)return this.$router.push("/");this.$router.push("/ubs")}),2e3))}catch(a){return void se.Am.error(a.response.data["msg"],{autoClose:2e3})}}}};const ie=(0,l.Z)(oe,[["render",X],["__scopeId","data-v-69dbb6de"]]);var ne=ie;const le=e=>((0,o.dD)("data-v-5a17bb3f"),e=e(),(0,o.Cn)(),e),re={class:"body"},de={class:"container"},ce={class:"form"},ue={class:"form-header"},me=le((()=>(0,o._)("div",{class:"title"},[(0,o._)("h1",null,"Cadastre-se")],-1))),pe=le((()=>(0,o._)("button",{class:"entrar-botao"},"Login",-1))),he={class:"form-group"},be={class:"box-dadosPessoais box"},ge=le((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Dados pessoais")],-1))),ve=le((()=>(0,o._)("label",{for:"firstname"},"Primeiro Nome",-1))),_e={class:"validacao"},we=le((()=>(0,o._)("label",{for:"lastname"},"Sobrenome",-1))),ye={class:"validacao"},fe=le((()=>(0,o._)("label",{for:"cpf"},"CPF",-1))),Ce={class:"validacao"},De=le((()=>(0,o._)("label",{for:"sus"},"Número do cartão do SUS",-1))),ke={class:"validacao"},Ve=le((()=>(0,o._)("label",{for:"telefone"},"Número do telefone",-1))),Pe={class:"validacao"},Fe=le((()=>(0,o._)("label",{for:"date"},"Data de Nascimento",-1))),Se={class:"validacao"},xe={class:"box-endereco box"},Ue=le((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Endereço")],-1))),Ne=le((()=>(0,o._)("label",{for:"cep"},"Cep",-1))),Me={class:"validacao"},qe=le((()=>(0,o._)("label",{for:"rua"},"Rua",-1))),$e={class:"validacao"},Ae=le((()=>(0,o._)("label",{for:"numeroCasa"},"Número",-1))),ze={class:"validacao"},Te=le((()=>(0,o._)("label",{for:"bairro"},"Bairro",-1))),He={class:"validacao"},Ie=le((()=>(0,o._)("label",{for:"city"},"Cidade",-1))),We={class:"validacao"},Le=le((()=>(0,o._)("label",{for:"state"},"Estado",-1))),Oe={class:"validacao"},Ze={class:"box-login box"},Ye=le((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Login")],-1))),je=le((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),Ee={class:"validacao"},Qe=le((()=>(0,o._)("label",{for:"password"},"Senha",-1))),Re={class:"validacao"},Ke=le((()=>(0,o._)("label",{for:"confirmpassword"},"Confirme sua senha",-1))),Be={class:"validacao"},Ge=(0,o.uE)('<div class="form-gender-group box" data-v-5a17bb3f><div class="divisao" data-v-5a17bb3f><div class="gender-title" data-v-5a17bb3f><legend data-v-5a17bb3f><p data-v-5a17bb3f>Gênero</p></legend></div><div class="box-gender" data-v-5a17bb3f><div class="linha-genero" data-v-5a17bb3f><input type="radio" id="famale" name="gender" data-v-5a17bb3f><label for="famale" data-v-5a17bb3f>Feminino</label></div><div class="linha-genero" data-v-5a17bb3f><input type="radio" id="male" name="gender" data-v-5a17bb3f><label for="male" data-v-5a17bb3f>Masculino</label></div><div class="linha-genero" data-v-5a17bb3f><input type="radio" id="others" name="gender" data-v-5a17bb3f><label for="others" data-v-5a17bb3f>Outros</label></div></div></div></div>',1),Je={class:"divisao"},Xe={class:"div-botao-ok"};function et(e,t,a,i,n,l){const r=(0,o.up)("router-link"),d=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",re,[(0,o._)("div",de,[(0,o._)("form",ce,[(0,o._)("div",ue,[me,(0,o._)("div",null,[(0,o.Wm)(r,{to:"/login"},{default:(0,o.w5)((()=>[pe])),_:1})])]),(0,o._)("div",he,[(0,o.wy)((0,o._)("div",be,[ge,ve,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.name},"required"]),"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.name=e),id:"firstname",type:"text",name:"firstname",placeholder:"Digite seu primeiro nome"},null,2),[[s.nr,n.user.name]]),(0,o.wy)((0,o._)("span",_e,"Nome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.name]]),we,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.lastName},"required"]),"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.lastName=e),id:"lastname",type:"text",name:"lastname",placeholder:"Digite seu sobrenome"},null,2),[[s.nr,n.user.lastName]]),(0,o.wy)((0,o._)("span",ye,"Sobrenome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.lastName]]),fe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cpf},"required"]),"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.cpf=e),id:"cpf",type:"text",name:"cpf",placeholder:"Digite seu CPF",maxlength:"14"},null,2),[[s.nr,n.user.cpf],[d,"###.###.###-##"]]),(0,o.wy)((0,o._)("span",Ce,"CPF inválido!",512),[[s.F8,!n.validations.cpf]]),De,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.susNumber},"required"]),"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.susNumber=e),id:"sus",type:"text",name:"sus",placeholder:"Digite o número do seu cartão SUS",maxlength:"18"},null,2),[[s.nr,n.user.susNumber],[d,"### #### #### ####"]]),(0,o.wy)((0,o._)("span",ke,"Número do seu cartão SUS inválido!",512),[[s.F8,!n.validations.susNumber]]),Ve,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.telephone},"required"]),"onUpdate:modelValue":t[4]||(t[4]=e=>n.user.telephone=e),id:"telefone",type:"text",name:"telefone",placeholder:"Digite o seu telefone",maxlength:"15"},null,2),[[s.nr,n.user.telephone],[d,"(##) #####-####"]]),(0,o.wy)((0,o._)("span",Pe,"Telefone inválido!",512),[[s.F8,!n.validations.telephone]]),Fe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.birthday},"required"]),"onUpdate:modelValue":t[5]||(t[5]=e=>n.user.birthday=e),type:"date",id:"start",name:"date"},null,2),[[s.nr,n.user.birthday]]),(0,o.wy)((0,o._)("span",Se,"Data inválida!",512),[[s.F8,!n.validations.birthday]])],512),[[s.F8,0===n.currentForm]]),(0,o.wy)((0,o._)("div",xe,[Ue,Ne,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cep},"required"]),"onUpdate:modelValue":t[6]||(t[6]=e=>n.user.cep=e),id:"cep",type:"text",name:"cep",size:"10",maxlength:"9",placeholder:"Digite seu cep",onBlur:t[7]||(t[7]=e=>l.handleCep())},null,34),[[s.nr,n.user.cep]]),(0,o.wy)((0,o._)("span",Me,"Cep inválido!",512),[[s.F8,!n.validations.cep]]),qe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.street},"required"]),"onUpdate:modelValue":t[8]||(t[8]=e=>n.user.street=e),id:"rua",type:"text",name:"rua",placeholder:"Digite a rua"},null,2),[[s.nr,n.user.street]]),(0,o.wy)((0,o._)("span",$e,"Rua inválida!",512),[[s.F8,!n.validations.street]]),Ae,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.houseNumber},"required"]),"onUpdate:modelValue":t[9]||(t[9]=e=>n.user.houseNumber=e),id:"numeroCasa",type:"text",name:"numeroCasa",placeholder:"Digite o numero da casa"},null,2),[[s.nr,n.user.houseNumber]]),(0,o.wy)((0,o._)("span",ze,"Número inválido!",512),[[s.F8,!n.validations.houseNumber]]),Te,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.neighborhood},"required"]),"onUpdate:modelValue":t[10]||(t[10]=e=>n.user.neighborhood=e),id:"bairro",type:"text",name:"bairro",placeholder:"Digite o bairro"},null,2),[[s.nr,n.user.neighborhood]]),(0,o.wy)((0,o._)("span",He,"Bairro inválido!",512),[[s.F8,!n.validations.neighborhood]]),Ie,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.city},"required"]),"onUpdate:modelValue":t[11]||(t[11]=e=>n.user.city=e),id:"cidade",type:"text",name:"cidade",size:"40",placeholder:"Digite a cidade"},null,2),[[s.nr,n.user.city]]),(0,o.wy)((0,o._)("span",We,"Cidade inválida!",512),[[s.F8,!n.validations.city]]),Le,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.state},"required"]),"onUpdate:modelValue":t[12]||(t[12]=e=>n.user.state=e),id:"uf",type:"text",name:"uf",size:"40",placeholder:"Digite o estado"},null,2),[[s.nr,n.user.state]]),(0,o.wy)((0,o._)("span",Oe,"Estado inválido!",512),[[s.F8,!n.validations.state]])],512),[[s.F8,1===n.currentForm]]),(0,o.wy)((0,o._)("div",Ze,[Ye,je,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.email},"required"]),"onUpdate:modelValue":t[13]||(t[13]=e=>n.user.email=e),id:"email",type:"email",name:"email","data-mask":"email",placeholder:"Digite seu email"},null,2),[[s.nr,n.user.email]]),(0,o.wy)((0,o._)("span",Ee,"Email inválido!",512),[[s.F8,!n.validations.email]]),Qe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.password},"required"]),"onUpdate:modelValue":t[14]||(t[14]=e=>n.user.password=e),id:"senha",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,2),[[s.nr,n.user.password]]),(0,o.wy)((0,o._)("span",Re,"A senha deve conter no mínimo 8 caracteres!",512),[[s.F8,!n.validations.password]]),Ke,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.confirmPassword},"required"]),"onUpdate:modelValue":t[15]||(t[15]=e=>n.user.confirmPassword=e),id:"validacaoSenha",type:"password",name:"confirmpassword",placeholder:"Digite novamente a senha",size:"20"},null,2),[[s.nr,n.user.confirmPassword]]),(0,o.wy)((0,o._)("span",Be,"As senhas não conferem!",512),[[s.F8,!n.validations.confirmPassword]])],512),[[s.F8,2===n.currentForm]]),Ge,(0,o._)("div",Je,[(0,o._)("div",Xe,[(0,o._)("button",{type:"button",onClick:t[16]||(t[16]=e=>l.backForm()),class:"botao-voltar"}," Voltar "),n.currentForm<2?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:t[17]||(t[17]=e=>l.nextForm()),class:"botao-continuar"}," Continuar ")):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",onClick:t[18]||(t[18]=e=>l.sendForm()),class:"botao-ok"}," Cadastrar "))])])])])])])}var tt=a(6413),at={name:"CadastrarPage",data(){return{currentForm:0,user:{name:"",lastName:"",cpf:"",susNumber:"",telephone:"",birthday:"",cep:"",street:"",houseNumber:"",neighborhood:"",city:"",state:"",email:"",password:"",confirmPassword:""},validations:{name:!0,lastName:!0,cpf:!0,susNumber:!0,telephone:!0,birthday:!0,cep:!0,street:!0,houseNumber:!0,neighborhood:!0,city:!0,state:!0,email:!0,password:!0,confirmPassword:!0}}},methods:{nextForm(){if((0!==this.currentForm||!1!==this.form1Validation())&&(1!==this.currentForm||!1!==this.form2Validation()))return this.currentForm<2?this.currentForm++:this.currentForm},backForm(){return 0===this.currentForm&&this.$router.push("/"),0===this.currentForm?this.currentForm:this.currentForm--},sendForm(){2===this.currentForm&&!1===this.form3Validation()||this.register()},nameValidation(){return this.user.name.length<3?this.validations.name=!1:this.validations.name=!0},lastNameValidation(){return this.user.lastName.length<3?this.validations.lastName=!1:this.validations.lastName=!0},cpfValidation(){return this.user.cpf.length<14?this.validations.cpf=!1:this.validations.cpf=!0},susNumberValidation(){return this.user.susNumber.length<18?this.validations.susNumber=!1:this.validations.susNumber=!0},telephoneValidation(){return this.user.telephone.length<15?this.validations.telephone=!1:this.validations.telephone=!0},birthdayValidation(){const e=/(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])/;return e.test(this.user.birthday)?this.validations.birthday=!0:this.validations.birthday=!1},cepValidation(){return this.user.cep.length<8?this.validations.cep=!1:this.validations.cep=!0},streetValidation(){return this.user.street.length<3?this.validations.street=!1:this.validations.street=!0},houseNumberValidation(){return this.user.houseNumber.length<1?this.validations.houseNumber=!1:this.validations.houseNumber=!0},neighborhoodValidation(){return this.user.neighborhood.length<3?this.validations.neighborhood=!1:this.validations.neighborhood=!0},cityValidation(){return this.user.city.length<3?this.validations.city=!1:this.validations.city=!0},stateValidation(){return this.user.state.length<1?this.validations.state=!1:this.validations.state=!0},emailValidation(){const e=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return e.test(this.user.email)?this.validations.email=!0:this.validations.email=!1},passwordValidation(){return this.user.password.length<8?this.validations.password=!1:this.validations.password=!0},confirmPasswordValidation(){return this.user.confirmPassword!==this.user.password?this.validations.confirmPassword=!1:this.validations.confirmPassword=!0},form1Validation(){return this.nameValidation(),this.lastNameValidation(),this.cpfValidation(),this.susNumberValidation(),this.telephoneValidation(),this.birthdayValidation(),!!(this.validations.name&&this.validations.lastName&&this.validations.cpf&&this.validations.susNumber&&this.validations.telephone&&this.validations.birthday)},form2Validation(){return this.cepValidation(),this.streetValidation(),this.houseNumberValidation(),this.neighborhoodValidation(),this.cityValidation(),this.stateValidation(),!!(this.validations.cep&&this.validations.street&&this.validations.houseNumber&&this.validations.neighborhood&&this.validations.city&&this.validations.state)},form3Validation(){return this.emailValidation(),this.passwordValidation(),this.confirmPasswordValidation(),!!(this.validations.email&&this.validations.password&&this.validations.confirmPassword)},async handleCep(){try{const e=await ae.get(`https://viacep.com.br/ws/${this.user.cep}/json/`);this.user.street=e.data.logradouro,this.user.neighborhood=e.data.bairro,this.user.city=e.data.localidade,this.user.state=e.data.uf}catch(e){se.Am.error("Cep não encontrado ou inválido!",{autoClose:5e3,position:"top-right"})}},async register(){const e="/auth/register";try{const t=await ae.post(e,{email:this.user.email,senha:this.user.password,cpf:this.user.cpf,nome:this.user.name,sobrenome:this.user.lastName,data_nasc:(0,tt.p6)(this.parseDate(this.user.birthday),"D-MM-YYYY"),numero_sus:this.user.susNumber,cep:this.user.cep,rua:this.user.street,bairro:this.user.neighborhood,cidade:this.user.city,estado:this.user.state,numero:this.user.houseNumber,confirmarSenha:this.user.confirmPassword});se.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/login")}),2e3)}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},parseDate(e){const[t,a,s]=e.split("-");return new Date(t,a-1,s)}}};const st=(0,l.Z)(at,[["render",et],["__scopeId","data-v-5a17bb3f"]]);var ot=st;const it={id:"user"};function nt(e,t,a,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",it,[(0,o.Wm)(l),(0,o.Wm)(r)])}const lt={class:"content"};function rt(e,t,a,s,i,n){const l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",lt,[(0,o.Wm)(l,{name:"userContent"})])}var dt={name:"ContentPage"};const ct=(0,l.Z)(dt,[["render",rt]]);var ut=ct,mt={name:"UserPage",components:{HeaderComponent:D,ContentComponent:ut}};const pt=(0,l.Z)(mt,[["render",nt]]);var ht=pt;const bt={id:"schedule"},gt={class:"form-select"},vt=(0,o._)("label",{class:"options-label",for:"ubs"},"UBS",-1),_t=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione uma UBS",-1),wt=["value"],yt=(0,o._)("label",{class:"options-label",for:"ubs"},"Tipo de consulta",-1),ft=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione o tipo de consulta",-1),Ct=["value"];function Dt(e,t,a,i,n,l){const r=(0,o.up)("TableComponent");return(0,o.wg)(),(0,o.iD)("div",bt,[(0,o.wy)((0,o._)("div",gt,[vt,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedUbs=e)},[_t,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsUbs,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:t,value:e._id},(0,u.zw)(e.nome),9,wt)))),128))],512),[[s.bM,n.selectedUbs]]),yt,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedQuery=e)},[ft,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsQuery,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:t,value:e},(0,u.zw)(e),9,Ct)))),128))],512),[[s.bM,n.selectedQuery]]),(0,o._)("button",{onClick:t[2]||(t[2]=e=>l.loadTable()),class:"schedule-btn"},"Ver consultas")],512),[[s.F8,!n.tableView]]),(0,o.wy)((0,o.Wm)(r,null,null,512),[[s.F8,n.tableView]])])}const kt={key:0,id:"table"},Vt={class:"table"},Pt={class:"table-head"},Ft={class:"table-row"},St={class:"table-body"},xt={class:"table-cell"},Ut={class:"table-cell"},Nt={class:"table-cell"},Mt={class:"table-cell"},qt={class:"table-cell"},$t={class:"table-cell"},At=["onClick"],zt=["onClick"],Tt={class:"table-body"},Ht={class:"table-row"},It=(0,o._)("td",{class:"table-cell"},null,-1),Wt=(0,o._)("td",{class:"table-cell"},null,-1),Lt={class:"table-cell foot"},Ot={class:"group-btn"};function Zt(e,t,a,i,n,l){const r=(0,o.up)("fa");return l.tableData?((0,o.wg)(),(0,o.iD)("div",kt,[(0,o._)("table",Vt,[(0,o._)("thead",Pt,[(0,o._)("tr",Ft,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",St,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.tableData.length,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e,class:"table-row"},[(0,o._)("td",xt,(0,u.zw)(l.tableData[e-1].nome_ubs),1),(0,o._)("td",Ut,(0,u.zw)(l.tableData[e-1].nome_medico),1),(0,o._)("td",Nt,(0,u.zw)(l.tableData[e-1].tipo),1),(0,o._)("td",Mt,(0,u.zw)(l.tableData[e-1].dia),1),(0,o._)("td",qt,(0,u.zw)(l.tableData[e-1].horario),1),(0,o._)("td",$t,[(0,o.wy)((0,o._)("button",{class:"check",onClick:t=>l.makeSchedule(e-1)},[(0,o.Uk)(" Selecionar"),(0,o.Wm)(r,{class:"calendar-check",icon:"calendar-check"})],8,At),[[s.F8,n.buttonView]]),(0,o.wy)((0,o._)("button",{class:"cancel",onClick:t=>l.cancelSchedule(e-1)},[(0,o.Uk)(" Cancelar"),(0,o.Wm)(r,{class:"xmark-cancel",icon:"xmark-circle"})],8,zt),[[s.F8,"/paciente/minhasconsultas"===this.$route.path]])])])))),128))]),(0,o._)("tfoot",Tt,[(0,o._)("tr",Ht,[It,Wt,(0,o._)("td",Lt,"Página atual: "+(0,u.zw)(n.currentPage),1)])])]),(0,o._)("div",Ot,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>l.backPage()),class:"schedule-btn"},"Voltar"),(0,o.wy)((0,o._)("button",{onClick:t[1]||(t[1]=e=>l.nextPage()),class:"schedule-btn"},"Carregar mais",512),[[s.F8,5===l.tableData.length]])])])):(0,o.kq)("",!0)}var Yt={name:"TableComponent",data(){return{tableHeader:["UBS","Médico","Tipo","Dia","Horário",""],buttonView:!0,currentPage:1}},computed:{tableData(){return this.$store.state.tableData},loadMore(){return this.$store.state.loadMore}},methods:{async makeSchedule(e){const t=`/consulta/${this.tableData[e]._id}`;try{const a=await ae.put(t,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});await this.$store.dispatch("loadTable"),se.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async cancelSchedule(e){const t=`/cancel/${this.tableData[e]._id}`;try{const a=await ae.put(t,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});se.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(a){se.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadMyTable(){if("/paciente/minhasconsultas"===this.$route.path)try{this.buttonView=!1;const e=localStorage.getItem("id"),t=`/consulta/${e}/${this.currentPage}`,a=await ae.get(t);a.data.length?(this.$store.commit("setTableData",a.data),this.$store.commit("setLoadMore",!0)):this.$store.commit("setLoadMore",!1)}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async decideTable(){"/paciente/minhasconsultas"!==this.$route.path?await this.$store.dispatch("loadTable"):this.loadMyTable()},backPage(){this.currentPage--,this.$store.commit("setPage",this.currentPage),this.currentPage<1?this.$router.push("/"):this.decideTable()},nextPage(){this.currentPage++,this.$store.commit("setPage",this.currentPage),this.decideTable()}},mounted(){this.loadMyTable(),this.$store.commit("setPage",this.currentPage)}};const jt=(0,l.Z)(Yt,[["render",Zt]]);var Et=jt,Qt={name:"SchedulePage",components:{TableComponent:Et},data(){return{selectedUbs:"",selectedQuery:"",optionsQuery:[],optionsUbs:[],tableView:!1}},computed:{tableData(){return this.$store.state.tableData}},methods:{async loadOptions(){"/paciente/minhasconsultas"===this.$route.path&&(this.tableView=!0);const e="/options";try{const t=await ae.get(e);this.optionsUbs=t.data.nomeUbs,this.optionsQuery=t.data.tipoConsulta}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadTable(){try{this.$store.commit("setUbs",this.selectedUbs),this.$store.commit("setQuery",this.selectedQuery),await this.$store.dispatch("loadTable"),this.tableView=!0}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}}},async mounted(){this.loadOptions()}};const Rt=(0,l.Z)(Qt,[["render",Dt]]);var Kt=Rt;const Bt={id:"ubsPage"};function Gt(e,t,a,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("NavComponent"),d=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",Bt,[(0,o.Wm)(l),(0,o.Wm)(r),(0,o.Wm)(d)])}const Jt={key:0,class:"nav"},Xt=(0,o._)("div",{class:"link"},"Cadastrar médicos",-1),ea=(0,o._)("div",{class:"link"},"Cadastrar consultas",-1),ta=(0,o._)("div",{class:"link"},"Consultas gerais",-1),aa={class:"button-group"};function sa(e,t,a,i,n,l){const r=(0,o.up)("router-link"),d=(0,o.up)("fa");return(0,o.wg)(),(0,o.iD)("aside",{class:(0,u.C_)(["aside",{"menu-mobile":n.showMenu}])},[n.mobile?((0,o.wg)(),(0,o.iD)("nav",{key:1,class:(0,u.C_)(["nav",{"menu-mobile":n.showMenu}])},[(0,o._)("div",{class:"bars",onClick:t[0]||(t[0]=e=>l.toggleMenu())},[(0,o.Wm)(d,{class:(0,u.C_)(["fa-bars",{"rotate-bars":n.showMenu}]),icon:"bars"},null,8,["class"])]),(0,o._)("div",aa,[(0,o.Wm)(r,{to:"/ubs"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:t[1]||(t[1]=e=>l.toggleMenu())},"Cadastrar médicos",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(r,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:t[2]||(t[2]=e=>l.toggleMenu())},"Cadastrar consultas",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(r,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:t[3]||(t[3]=e=>l.toggleMenu())},"Consultas gerais",512),[[s.F8,n.showMenu]])])),_:1})])],2)):((0,o.wg)(),(0,o.iD)("nav",Jt,[(0,o.Wm)(r,{to:"/ubs"},{default:(0,o.w5)((()=>[Xt])),_:1}),(0,o.Wm)(r,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[ea])),_:1}),(0,o.Wm)(r,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[ta])),_:1})]))],2)}var oa={name:"NavComponent",data(){return{mobile:!1,showMenu:!1,windowWidth:null}},created(){window.addEventListener("resize",this.checkScreen),this.checkScreen(),console.log(this.windowWidth)},methods:{toggleMenu(){this.showMenu=!this.showMenu},checkScreen(){this.windowWidth=window.innerWidth,this.windowWidth<=890?this.mobile=!0:this.mobile=!1}}};const ia=(0,l.Z)(oa,[["render",sa]]);var na=ia,la={name:"UbsPage",components:{HeaderComponent:D,NavComponent:na,ContentComponent:ut}};const ra=(0,l.Z)(la,[["render",Gt]]);var da=ra;const ca=e=>((0,o.dD)("data-v-05f54115"),e=e(),(0,o.Cn)(),e),ua={id:"doctorForm"},ma={class:"form-doctor"},pa=ca((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre o médico")],-1))),ha={class:"input-group"},ba={class:"input-field"},ga={class:"input-field"},va={class:"input-field"},_a={class:"input-field"};function wa(e,t,a,i,n,l){const r=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",ua,[(0,o._)("form",ma,[pa,(0,o._)("div",ha,[(0,o._)("div",ba,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.doctor.nome=e),class:"inputs",type:"text",name:"name",placeholder:"Digite o nome do médico",id:"name"},null,512),[[s.nr,n.doctor.nome]])]),(0,o._)("div",ga,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.doctor.cpf=e),class:"inputs",type:"text",name:"cpf",placeholder:"Digite o CPF do médico",id:"cpf"},null,512),[[s.nr,n.doctor.cpf],[r,"###.###.###-##"]])]),(0,o._)("div",va,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.doctor.crm=e),class:"inputs",type:"text",name:"crm",placeholder:"Digite o CRM do médico",id:"crm"},null,512),[[s.nr,n.doctor.crm],[r,"######/##"]])]),(0,o._)("div",_a,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.doctor.especialidade=e),class:"inputs",type:"text",name:"especialidade",placeholder:"Digite a especialidade do médico",id:"especialidade"},null,512),[[s.nr,n.doctor.especialidade]])]),(0,o._)("input",{onClick:t[4]||(t[4]=e=>l.registerDoctor()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var ya={name:"RegisterDoctorComponent",data(){return{doctor:{nome:"",cpf:"",crm:"",especialidade:""}}},methods:{async registerDoctor(){const e="/doctor";try{const t=await ae.post(e,this.doctor);se.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"})}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}}}};const fa=(0,l.Z)(ya,[["render",wa],["__scopeId","data-v-05f54115"]]);var Ca=fa;const Da=e=>((0,o.dD)("data-v-defbb41a"),e=e(),(0,o.Cn)(),e),ka={id:"queryForm"},Va={class:"form-query"},Pa=Da((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre a consulta")],-1))),Fa={class:"input-group"},Sa={class:"select-group"},xa=Da((()=>(0,o._)("option",{value:"",selected:"",disabled:""},"Selecione o médico",-1))),Ua=["value"],Na={class:"input-field"},Ma=Da((()=>(0,o._)("label",{for:"date",class:"label"},"Data",-1))),qa={class:"input-field"},$a=Da((()=>(0,o._)("label",{for:"start",class:"label"},"Início do atendimento",-1))),Aa={class:"input-field"},za=Da((()=>(0,o._)("label",{for:"end",class:"label"},"Término do atendimento",-1))),Ta={class:"input-field"},Ha=Da((()=>(0,o._)("label",{for:"range",class:"label"},"Tempo médio da consulta",-1)));function Ia(e,t,a,i,n,l){return(0,o.wg)(),(0,o.iD)("div",ka,[(0,o._)("form",Va,[Pa,(0,o._)("div",Fa,[(0,o._)("div",Sa,[(0,o.wy)((0,o._)("select",{name:"doctor",id:"doctor",class:"select","onUpdate:modelValue":t[0]||(t[0]=e=>n.query.doctor=e)},[xa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.doctorOptions,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:t,value:e},(0,u.zw)(e.nome)+" - "+(0,u.zw)(e.especialidade),9,Ua)))),128))],512),[[s.bM,n.query.doctor]])]),(0,o._)("div",Na,[Ma,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":t[1]||(t[1]=e=>n.query.date=e),type:"date",name:"date",id:"date"},null,512),[[s.nr,n.query.date]])]),(0,o._)("div",qa,[$a,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":t[2]||(t[2]=e=>n.query.start=e),type:"time",name:"start",id:"start"},null,512),[[s.nr,n.query.start]])]),(0,o._)("div",Aa,[za,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":t[3]||(t[3]=e=>n.query.end=e),type:"time",name:"end",id:"end"},null,512),[[s.nr,n.query.end]])]),(0,o._)("div",Ta,[Ha,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":t[4]||(t[4]=e=>n.query.range=e),type:"number",name:"range",id:"range"},null,512),[[s.nr,n.query.range]])]),(0,o._)("input",{onClick:t[5]||(t[5]=e=>l.register()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var Wa={name:"RegisterQueriesComponent",data(){return{doctorOptions:[],query:{date:"",start:"",end:"",range:Number,doctor:""}}},methods:{async loadOptions(){const e=`/options/${localStorage.getItem("id")}`;console.log(e);try{const t=await ae.get(e);this.doctorOptions=t.data}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async register(){const e="/query",t=parseInt(60*this.query.start.split(":")[0])+parseInt(this.query.start.split(":")[1]),a=parseInt(60*this.query.end.split(":")[0])+parseInt(this.query.end.split(":")[1]);try{const s=this.createDataArray(t,a,this.query.range);if(!s)return;const o=await ae.post(e,{consultas:s});se.Am.success(o.data["msg"],{autoClose:2e3,position:"top-right"})}catch(s){se.Am.error(s.response.data["msg"],{autoClose:2e3,position:"top-right"})}},createDataArray(e,t,a){const s=[];let o=e;while(o<=t){const e=Math.floor(o/60),t=o%60,i=`${e}:${t<10?"0":""}${t}`;s.push({data:(0,tt.p6)(this.parseDate(this.query.date),"D-MM-YYYY"),id_medico:this.query.doctor._id,id_ubs:localStorage.getItem("id"),horario:i}),o+=a}return s},parseDate(e){const[t,a,s]=e.split("-");return new Date(t,a-1,s)}},async mounted(){this.loadOptions()}};const La=(0,l.Z)(Wa,[["render",Ia],["__scopeId","data-v-defbb41a"]]);var Oa=La;const Za={key:0,id:"ubsTable"},Ya={class:"table"},ja={class:"table-head"},Ea={class:"table-row"},Qa={class:"table-body"},Ra={class:"table-cell"},Ka={class:"table-cell"},Ba={class:"table-cell"},Ga={class:"table-cell"},Ja={class:"table-cell"},Xa={class:"table-cell"},es=["onClick"],ts={class:"table-foot"},as={class:"table-row"},ss=(0,o._)("td",{class:"table-cell"},null,-1),os=(0,o._)("td",{class:"table-cell"},null,-1),is={class:"table-cell foot"},ns=(0,o._)("td",{class:"table-cell"},null,-1),ls=(0,o._)("td",{class:"table-cell"},null,-1),rs=(0,o._)("td",{class:"table-cell"},null,-1),ds={class:"group-btn"};function cs(e,t,a,i,n,l){const r=(0,o.up)("fa");return n.tableData?((0,o.wg)(),(0,o.iD)("div",Za,[(0,o._)("table",Ya,[(0,o._)("thead",ja,[(0,o._)("tr",Ea,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",Qa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableData,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t,class:"table-row",style:(0,u.j5)({background:l.hasMarked(e)})},[(0,o._)("td",Ra,(0,u.zw)(e.nome_medico),1),(0,o._)("td",Ka,(0,u.zw)(e.tipo),1),(0,o._)("td",Ba,(0,u.zw)(e.dia),1),(0,o._)("td",Ga,(0,u.zw)(e.horario),1),(0,o._)("td",Ja,(0,u.zw)(e.nome_paciente),1),(0,o._)("td",Xa,[(0,o._)("button",{class:"cancel",onClick:e=>l.deleteSchedule(t)},[(0,o.Uk)(" Apagar"),(0,o.Wm)(r,{class:"xmark-cancel",icon:"xmark-circle"})],8,es)])],4)))),128))]),(0,o._)("tfoot",ts,[(0,o._)("tr",as,[ss,os,(0,o._)("td",is,"Página atual: "+(0,u.zw)(n.currentPage),1),ns,ls,rs])])]),(0,o._)("div",ds,[(0,o.wy)((0,o._)("button",{onClick:t[0]||(t[0]=e=>l.backPage()),class:"schedule-btn"},"Voltar",512),[[s.F8,n.currentPage>1]]),(0,o.wy)((0,o._)("button",{onClick:t[1]||(t[1]=e=>l.nextPage()),class:"schedule-btn"}," Carregar mais ",512),[[s.F8,5===n.tableData.length]])])])):(0,o.kq)("",!0)}var us={name:"UbsTableComponent",data(){return{tableHeader:["Médico","Tipo","Dia","Horário","Paciente",""],tableData:[],currentPage:1}},methods:{async loadData(){try{const e=`/consultas/${this.currentPage}/${localStorage.getItem("id")}`;console.log(e);const t=await ae.get(e);this.tableData=t.data}catch(e){se.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}},nextPage(){this.currentPage++,this.loadData()},backPage(){this.currentPage--,this.loadData()},async deleteSchedule(e){try{const t=`/delete/${this.tableData[e]._id}`,a=await ae.delete(t);se.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"}),this.loadData()}catch(t){se.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},hasMarked(e){return e.nome_paciente?"#8a99e3":"#dce2fa"}},async mounted(){this.loadData()}};const ms=(0,l.Z)(us,[["render",cs]]);var ps=ms,hs=a(65),bs=new hs.ZP.Store({state:{isLogged:!1,currentPage:1,selectedUbs:"",selectedQuery:"",tableData:{},loadMore:!0},mutations:{login(e){e.isLogged=!0},logout(e){e.isLogged=!1},setPage(e,t){t>0&&(e.currentPage=t)},setUbs(e,t){e.selectedUbs=t},setQuery(e,t){e.selectedQuery=t},setTableData(e,t){e.tableData=t},setLoadMore(e,t){e.loadMore=t}},getters:{isLogged:e=>e.isLogged},actions:{async initializeApp({commit:e}){const t=localStorage.getItem("token");if(t){const s="/auth/validateToken";try{const a=await ae.post(s,{token:t});!0===a.data.validate?e("login"):e("logout")}catch(a){console.error("Erro na validação do token:",a),e("logout")}}},async validateAdmin({commit:e}){const t=localStorage.getItem("token");if(t){const s="/auth/admin";try{const a=await ae.post(s,{token:t});!0===a.data.validate?e("login"):e("logout")}catch(a){console.error("Erro na validação do token:",a),e("logout")}}},async loadTable(e){const t=`/auth/consulta/${e.state.currentPage}/${e.state.selectedUbs}/${e.state.selectedQuery}`;try{const a=await ae.get(t);a.data.length?(e.commit("setTableData",a.data),e.commit("setLoadMore",!0)):e.commit("setLoadMore",!1)}catch(a){console.log(a)}}}});const gs=[{name:"homeScreen",path:"/",component:N},{name:"saibaMaisScreen",path:"/saibaMais",component:I},{name:"loginScreen",path:"/login",component:ne},{name:"RegisterScreen",path:"/cadastrar",component:ot},{name:"UserScreen",path:"/paciente",component:ht,meta:{requiresAuth:!0},children:[{name:"MainContent",path:"",components:{userContent:Kt}},{name:"AgendarContent",path:"/paciente/minhasconsultas",components:{userContent:Kt}}]},{name:"UbsScreen",path:"/ubs",component:da,meta:{requiresAdmin:!0},children:[{name:"RegisterDoctorContent",path:"",components:{userContent:Ca}},{name:"RegisterQueryContent",path:"/ubs/consulta",components:{userContent:Oa}},{name:"UbsTableContent",path:"/ubs/consultas",components:{userContent:ps}}]}],vs=(0,c.p7)({history:(0,c.PO)(),routes:gs});vs.beforeEach((async(e,t,a)=>{await bs.dispatch("initializeApp"),e.meta.requiresAuth?bs.state.isLogged?(a(),bs.commit("setTableData",{})):a("/login"):e.meta.requiresAdmin?(await bs.dispatch("validateAdmin"),bs.state.isLogged?a():a("/login")):a()}));var _s=vs,ws=a(9414),ys=a.n(ws),fs=a(3494),Cs=a(7749),Ds=a(8539);ae.interceptors.request.use((e=>(e.headers.Authorization=localStorage.getItem("token"),e)),(e=>Promise.reject(e)));fs.vI.add(Ds.Ry6,Ds.$9F,Ds.xiG),(0,s.ri)(d).component("fa",Cs.GN).use(_s).use(bs).use(ys()).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,i){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],i=e[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(l=!1,i<n&&(n=i));if(l){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,i,n=s[0],l=s[1],r=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var c=r(a)}for(t&&t(s);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2218)}));s=a.O(s)})();
//# sourceMappingURL=app.15f35821.js.map