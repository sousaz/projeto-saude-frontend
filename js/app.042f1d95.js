(function(){"use strict";var e={9627:function(e,a,t){var s=t(9242),o=t(3396);function i(e,a,t,s,i,n){const l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(l)}var n={name:"App",components:{}},l=t(89);const r=(0,l.Z)(n,[["render",i]]);var d=r,c=t(2483),u=t(7139);const m={class:"section2"},p=["src"],h={class:"card-btn"};function g(e,a,t,i,n,l){const r=(0,o.up)("HeaderComponent"),d=(0,o.up)("SubtitleComponent"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r),(0,o.Wm)(d,{label1:"Faça seu agendamento online com comodidade,",label2:"em qualquer hora e lugar."}),(0,o._)("section",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cards,((e,a)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:a,class:"card"},[(0,o._)("img",{src:e.url,alt:"Icon"},null,8,p),(0,o.Wm)(c,{to:e.to},{default:(0,o.w5)((()=>[(0,o._)("button",h,(0,u.zw)(e.text),1)])),_:2},1032,["to"])])),[[s.F8,e.show!==this.isLogged]]))),128))])])}const b=e=>((0,o.dD)("data-v-6635a546"),e=e(),(0,o.Cn)(),e),v={class:"header"},_=b((()=>(0,o._)("div",{class:"logo-field"},[(0,o._)("svg",{class:"logo",xmlns:"http://www.w3.org/2000/svg",fill:"#3a58f0",height:"1em",viewBox:"0 0 640 512"},[(0,o._)("path",{d:"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM288 160c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v48h48c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H352v48c0 8.8-7.2 16-16 16H304c-8.8 0-16-7.2-16-16V272H240c-8.8 0-16-7.2-16-16V224c0-8.8 7.2-16 16-16h48V160z"})]),(0,o._)("h1",{class:"logoName"},"AGENDASUS")],-1))),w=b((()=>(0,o._)("button",{class:"login-btn"},"Login",-1)));function y(e,a,t,s,i,n){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("header",v,[(0,o.Wm)(l,{to:"/"},{default:(0,o.w5)((()=>[_])),_:1}),(0,o._)("div",null,[n.isLogged?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:a[0]||(a[0]=e=>n.logout()),class:"login-btn logout"},"Sair")):((0,o.wg)(),(0,o.j4)(l,{key:0,to:"/login"},{default:(0,o.w5)((()=>[w])),_:1}))])])}var f={name:"HeaderComponent",data(){return{}},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("id"),this.$store.commit("logout"),this.$router.replace("/")}},computed:{isLogged(){return this.$store.getters.isLogged}}};const C=(0,l.Z)(f,[["render",y],["__scopeId","data-v-6635a546"]]);var D=C;const k={class:"section1"};function V(e,a,t,s,i,n){return(0,o.wg)(),(0,o.iD)("section",k,[(0,o._)("h2",null,(0,u.zw)(t.label1),1),(0,o._)("h2",null,(0,u.zw)(t.label2),1)])}var P={name:"SubtitleComponent",props:{label1:{},label2:{}}};const S=(0,l.Z)(P,[["render",V],["__scopeId","data-v-46b20a1a"]]);var F=S,x={name:"MainPage",components:{HeaderComponent:D,SubtitleComponent:F},data(){return{cards:[{url:"/assets/imgs/iconAgendar.svg",text:"Cadastre-se",to:"/cadastrar",show:!0},{url:"/assets/imgs/iconConsultar.svg",text:"Agende sua consulta",to:"/paciente"},{url:"/assets/imgs/notebook-svgrepo-com.svg",text:"Minhas consultas",to:"/paciente/minhasconsultas",show:!1},{url:"/assets/imgs/iconSaiba.svg",text:"Saiba Mais",to:"/saibaMais"}]}},methods:{},computed:{isLogged(){return this.$store.getters.isLogged}}};const U=(0,l.Z)(x,[["render",g],["__scopeId","data-v-3bc00920"]]);var N=U;const L={class:"cards"},M={class:"text"},$=["src"],q={class:"paragraph"};function A(e,a,t,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("SubtitleComponent");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l),(0,o.Wm)(r,{label1:"Agendar consultas online nunca foi tão simples.",label2:"Veja como funciona!"}),(0,o._)("section",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cards,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"card-item"},[(0,o._)("div",M,[(0,o._)("img",{class:"icon",src:e.url,alt:"Icon"},null,8,$),(0,o._)("h3",null,(0,u.zw)(a+1+e.type),1)]),(0,o._)("div",q,[(0,o._)("p",null,(0,u.zw)(e.text),1)])])))),128))])])}var z={name:"SaibaMaisPage",components:{HeaderComponent:D,SubtitleComponent:F},data(){return{cards:[{url:"/assets/imgs/iconRegister.svg",type:". Cadastro",text:"Faça seu cadastro para ter acesso aos serviços disponíveis. Se você já possui cadastro, clique em LOGIN."},{url:"/assets/imgs/iconConfirmar.svg",type:". Selecione o Serviço",text:"Escolha o serviço para o qual deseja agendar o atendimento."},{url:"/assets/imgs/iconCalendario.svg",type:". Escolha o dia e horário",text:"Informe o dia e horário, dentre os horários disponíveis e salve o Agendamento."},{url:"/assets/imgs/iconFinalizar.svg",type:". Finalize o agendamento",text:"No dia agendado, dirija-se até o local do atendimento, confirme sua presença e aguarde ser chamado."}]}}};const T=(0,l.Z)(z,[["render",A],["__scopeId","data-v-9435ba5a"]]);var H=T;const I=e=>((0,o.dD)("data-v-293332d4"),e=e(),(0,o.Cn)(),e),W={class:"body"},O={class:"container"},Z={action:"#"},j={class:"form-content"},Y=I((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("div",{class:"form-name"},[(0,o._)("h1",null,"LOGIN")])],-1))),E={class:"form-input"},Q={class:"textfield"},R=I((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),K={class:"textfield"},B=I((()=>(0,o._)("label",{for:"password"},"Senha",-1))),G=["disabled"],J=I((()=>(0,o._)("div",null,[(0,o._)("p",null,"ou")],-1))),X=I((()=>(0,o._)("button",{type:"button",class:"register-btn"},"Cadastre-se",-1)));function ee(e,a,t,i,n,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",W,[(0,o._)("div",O,[(0,o._)("form",Z,[(0,o._)("div",j,[Y,(0,o._)("div",E,[(0,o._)("div",null,[(0,o._)("div",Q,[R,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.user.email=e),id:"email",type:"email",name:"email",placeholder:"Digite seu email"},null,512),[[s.nr,n.user.email]])]),(0,o._)("div",K,[B,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.user.password=e),id:"password",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,512),[[s.nr,n.user.password]])])]),(0,o._)("div",null,[(0,o._)("button",{disabled:n.disabled,onClick:a[2]||(a[2]=(...e)=>l.login&&l.login(...e)),type:"submit",class:"enter-btn"},"Entrar",8,G)]),J,(0,o._)("div",null,[(0,o.Wm)(r,{to:"/cadastrar"},{default:(0,o.w5)((()=>[X])),_:1})])])])])])])}t(560);var ae=t(4161);const te=ae.Z.create({baseURL:"https://projeto-saude-backend.vercel.app/api"});var se=te,oe=t(3836),ie={name:"LoginPage",data(){return{user:{email:"",password:""},disabled:!1}},methods:{async login(e){this.disabled=!0,e.preventDefault();const a="/auth/login";try{const e=await se.post(a,{email:this.user.email,senha:this.user.password}),t=e.data.token,s=e.data.id;t&&s&&(localStorage.setItem("token",t),localStorage.setItem("id",s),oe.Am.success("Logado com sucesso!",{autoClose:2e3,position:"top-right"}),this.$store.commit("login"),this.disabled=!1,setTimeout((()=>{if(!e.data.admin)return this.$router.push("/");this.$router.push("/ubs")}),2e3))}catch(t){return this.disabled=!1,void oe.Am.error(t.response.data["msg"],{autoClose:2e3})}}}};const ne=(0,l.Z)(ie,[["render",ee],["__scopeId","data-v-293332d4"]]);var le=ne;const re=e=>((0,o.dD)("data-v-19ea0c68"),e=e(),(0,o.Cn)(),e),de={class:"body"},ce={class:"container"},ue={class:"form"},me={class:"form-header"},pe=re((()=>(0,o._)("div",{class:"title"},[(0,o._)("h1",null,"Cadastre-se")],-1))),he=re((()=>(0,o._)("button",{class:"entrar-botao"},"Login",-1))),ge={class:"form-group"},be={class:"box-dadosPessoais box"},ve=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Dados pessoais")],-1))),_e=re((()=>(0,o._)("label",{for:"firstname"},"Primeiro Nome",-1))),we={class:"validacao"},ye=re((()=>(0,o._)("label",{for:"lastname"},"Sobrenome",-1))),fe={class:"validacao"},Ce=re((()=>(0,o._)("label",{for:"cpf"},"CPF",-1))),De={class:"validacao"},ke=re((()=>(0,o._)("label",{for:"sus"},"Número do cartão do SUS",-1))),Ve={class:"validacao"},Pe=re((()=>(0,o._)("label",{for:"telefone"},"Número do telefone",-1))),Se={class:"validacao"},Fe=re((()=>(0,o._)("label",{for:"date"},"Data de Nascimento",-1))),xe={class:"validacao"},Ue={class:"box-endereco box"},Ne=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Endereço")],-1))),Le=re((()=>(0,o._)("label",{for:"cep"},"Cep",-1))),Me={class:"validacao"},$e=re((()=>(0,o._)("label",{for:"rua"},"Rua",-1))),qe={class:"validacao"},Ae=re((()=>(0,o._)("label",{for:"numeroCasa"},"Número",-1))),ze={class:"validacao"},Te=re((()=>(0,o._)("label",{for:"bairro"},"Bairro",-1))),He={class:"validacao"},Ie=re((()=>(0,o._)("label",{for:"city"},"Cidade",-1))),We={class:"validacao"},Oe=re((()=>(0,o._)("label",{for:"state"},"Estado",-1))),Ze={class:"validacao"},je={class:"box-login box"},Ye=re((()=>(0,o._)("legend",null,[(0,o._)("p",null,"Login")],-1))),Ee=re((()=>(0,o._)("label",{for:"email"},"E-mail",-1))),Qe={class:"validacao"},Re=re((()=>(0,o._)("label",{for:"password"},"Senha",-1))),Ke={class:"validacao"},Be=re((()=>(0,o._)("label",{for:"confirmpassword"},"Confirme sua senha",-1))),Ge={class:"validacao"},Je=(0,o.uE)('<div class="form-gender-group box" data-v-19ea0c68><div class="divisao" data-v-19ea0c68><div class="gender-title" data-v-19ea0c68><legend data-v-19ea0c68><p data-v-19ea0c68>Gênero</p></legend></div><div class="box-gender" data-v-19ea0c68><div class="linha-genero" data-v-19ea0c68><input type="radio" id="famale" name="gender" data-v-19ea0c68><label for="famale" data-v-19ea0c68>Feminino</label></div><div class="linha-genero" data-v-19ea0c68><input type="radio" id="male" name="gender" data-v-19ea0c68><label for="male" data-v-19ea0c68>Masculino</label></div><div class="linha-genero" data-v-19ea0c68><input type="radio" id="others" name="gender" data-v-19ea0c68><label for="others" data-v-19ea0c68>Outros</label></div></div></div></div>',1),Xe={class:"divisao"},ea={class:"div-botao-ok"},aa=["disabled"];function ta(e,a,t,i,n,l){const r=(0,o.up)("router-link"),d=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",ce,[(0,o._)("form",ue,[(0,o._)("div",me,[pe,(0,o._)("div",null,[(0,o.Wm)(r,{to:"/login"},{default:(0,o.w5)((()=>[he])),_:1})])]),(0,o._)("div",ge,[(0,o.wy)((0,o._)("div",be,[ve,_e,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.name},"required"]),"onUpdate:modelValue":a[0]||(a[0]=e=>n.user.name=e),id:"firstname",type:"text",name:"firstname",placeholder:"Digite seu primeiro nome"},null,2),[[s.nr,n.user.name]]),(0,o.wy)((0,o._)("span",we,"Nome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.name]]),ye,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.lastName},"required"]),"onUpdate:modelValue":a[1]||(a[1]=e=>n.user.lastName=e),id:"lastname",type:"text",name:"lastname",placeholder:"Digite seu sobrenome"},null,2),[[s.nr,n.user.lastName]]),(0,o.wy)((0,o._)("span",fe,"Sobrenome deve ter no mínimo 3 caracteres!",512),[[s.F8,!n.validations.lastName]]),Ce,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cpf},"required"]),"onUpdate:modelValue":a[2]||(a[2]=e=>n.user.cpf=e),id:"cpf",type:"text",name:"cpf",placeholder:"Digite seu CPF",maxlength:"14"},null,2),[[s.nr,n.user.cpf],[d,"###.###.###-##"]]),(0,o.wy)((0,o._)("span",De,"CPF inválido!",512),[[s.F8,!n.validations.cpf]]),ke,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.susNumber},"required"]),"onUpdate:modelValue":a[3]||(a[3]=e=>n.user.susNumber=e),id:"sus",type:"text",name:"sus",placeholder:"Digite o número do seu cartão SUS",maxlength:"18"},null,2),[[s.nr,n.user.susNumber],[d,"### #### #### ####"]]),(0,o.wy)((0,o._)("span",Ve,"Número do seu cartão SUS inválido!",512),[[s.F8,!n.validations.susNumber]]),Pe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.telephone},"required"]),"onUpdate:modelValue":a[4]||(a[4]=e=>n.user.telephone=e),id:"telefone",type:"text",name:"telefone",placeholder:"Digite o seu telefone",maxlength:"15"},null,2),[[s.nr,n.user.telephone],[d,"(##) #####-####"]]),(0,o.wy)((0,o._)("span",Se,"Telefone inválido!",512),[[s.F8,!n.validations.telephone]]),Fe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.birthday},"required"]),"onUpdate:modelValue":a[5]||(a[5]=e=>n.user.birthday=e),type:"date",id:"start",name:"date"},null,2),[[s.nr,n.user.birthday]]),(0,o.wy)((0,o._)("span",xe,"Data inválida!",512),[[s.F8,!n.validations.birthday]])],512),[[s.F8,0===n.currentForm]]),(0,o.wy)((0,o._)("div",Ue,[Ne,Le,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.cep},"required"]),"onUpdate:modelValue":a[6]||(a[6]=e=>n.user.cep=e),id:"cep",type:"text",name:"cep",size:"10",maxlength:"9",placeholder:"Digite seu cep",onBlur:a[7]||(a[7]=e=>l.handleCep())},null,34),[[s.nr,n.user.cep]]),(0,o.wy)((0,o._)("span",Me,"Cep inválido!",512),[[s.F8,!n.validations.cep]]),$e,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.street},"required"]),"onUpdate:modelValue":a[8]||(a[8]=e=>n.user.street=e),id:"rua",type:"text",name:"rua",placeholder:"Digite a rua"},null,2),[[s.nr,n.user.street]]),(0,o.wy)((0,o._)("span",qe,"Rua inválida!",512),[[s.F8,!n.validations.street]]),Ae,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.houseNumber},"required"]),"onUpdate:modelValue":a[9]||(a[9]=e=>n.user.houseNumber=e),id:"numeroCasa",type:"text",name:"numeroCasa",placeholder:"Digite o numero da casa"},null,2),[[s.nr,n.user.houseNumber]]),(0,o.wy)((0,o._)("span",ze,"Número inválido!",512),[[s.F8,!n.validations.houseNumber]]),Te,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.neighborhood},"required"]),"onUpdate:modelValue":a[10]||(a[10]=e=>n.user.neighborhood=e),id:"bairro",type:"text",name:"bairro",placeholder:"Digite o bairro"},null,2),[[s.nr,n.user.neighborhood]]),(0,o.wy)((0,o._)("span",He,"Bairro inválido!",512),[[s.F8,!n.validations.neighborhood]]),Ie,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.city},"required"]),"onUpdate:modelValue":a[11]||(a[11]=e=>n.user.city=e),id:"cidade",type:"text",name:"cidade",size:"40",placeholder:"Digite a cidade"},null,2),[[s.nr,n.user.city]]),(0,o.wy)((0,o._)("span",We,"Cidade inválida!",512),[[s.F8,!n.validations.city]]),Oe,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.state},"required"]),"onUpdate:modelValue":a[12]||(a[12]=e=>n.user.state=e),id:"uf",type:"text",name:"uf",size:"40",placeholder:"Digite o estado"},null,2),[[s.nr,n.user.state]]),(0,o.wy)((0,o._)("span",Ze,"Estado inválido!",512),[[s.F8,!n.validations.state]])],512),[[s.F8,1===n.currentForm]]),(0,o.wy)((0,o._)("div",je,[Ye,Ee,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.email},"required"]),"onUpdate:modelValue":a[13]||(a[13]=e=>n.user.email=e),id:"email",type:"email",name:"email","data-mask":"email",placeholder:"Digite seu email"},null,2),[[s.nr,n.user.email]]),(0,o.wy)((0,o._)("span",Qe,"Email inválido!",512),[[s.F8,!n.validations.email]]),Re,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.password},"required"]),"onUpdate:modelValue":a[14]||(a[14]=e=>n.user.password=e),id:"senha",type:"password",name:"password",placeholder:"Digite sua senha",size:"20"},null,2),[[s.nr,n.user.password]]),(0,o.wy)((0,o._)("span",Ke,"A senha deve conter no mínimo 8 caracteres!",512),[[s.F8,!n.validations.password]]),Be,(0,o.wy)((0,o._)("input",{class:(0,u.C_)([{validacao:!n.validations.confirmPassword},"required"]),"onUpdate:modelValue":a[15]||(a[15]=e=>n.user.confirmPassword=e),id:"validacaoSenha",type:"password",name:"confirmpassword",placeholder:"Digite novamente a senha",size:"20"},null,2),[[s.nr,n.user.confirmPassword]]),(0,o.wy)((0,o._)("span",Ge,"As senhas não conferem!",512),[[s.F8,!n.validations.confirmPassword]])],512),[[s.F8,2===n.currentForm]]),Je,(0,o._)("div",Xe,[(0,o._)("div",ea,[(0,o._)("button",{type:"button",onClick:a[16]||(a[16]=e=>l.backForm()),class:"botao-voltar"}," Voltar "),n.currentForm<2?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:a[17]||(a[17]=e=>l.nextForm()),class:"botao-continuar"}," Continuar ")):((0,o.wg)(),(0,o.iD)("button",{key:1,disabled:n.disabled,type:"button",onClick:a[18]||(a[18]=e=>l.sendForm()),class:"botao-ok"}," Cadastrar ",8,aa))])])])])])])}var sa=t(6413),oa={name:"CadastrarPage",data(){return{disabled:!1,currentForm:2,user:{name:"",lastName:"",cpf:"",susNumber:"",telephone:"",birthday:"",cep:"",street:"",houseNumber:"",neighborhood:"",city:"",state:"",email:"",password:"",confirmPassword:""},validations:{name:!0,lastName:!0,cpf:!0,susNumber:!0,telephone:!0,birthday:!0,cep:!0,street:!0,houseNumber:!0,neighborhood:!0,city:!0,state:!0,email:!0,password:!0,confirmPassword:!0}}},methods:{nextForm(){if((0!==this.currentForm||!1!==this.form1Validation())&&(1!==this.currentForm||!1!==this.form2Validation()))return this.currentForm<2?this.currentForm++:this.currentForm},backForm(){return 0===this.currentForm&&this.$router.push("/"),0===this.currentForm?this.currentForm:this.currentForm--},sendForm(){2===this.currentForm&&!1===this.form3Validation()||this.register()},nameValidation(){return this.user.name.length<3?this.validations.name=!1:this.validations.name=!0},lastNameValidation(){return this.user.lastName.length<3?this.validations.lastName=!1:this.validations.lastName=!0},cpfValidation(){return this.user.cpf.length<14?this.validations.cpf=!1:this.validations.cpf=!0},susNumberValidation(){return this.user.susNumber.length<18?this.validations.susNumber=!1:this.validations.susNumber=!0},telephoneValidation(){return this.user.telephone.length<15?this.validations.telephone=!1:this.validations.telephone=!0},birthdayValidation(){const e=/(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])/;return e.test(this.user.birthday)?this.validations.birthday=!0:this.validations.birthday=!1},cepValidation(){return this.user.cep.length<8?this.validations.cep=!1:this.validations.cep=!0},streetValidation(){return this.user.street.length<3?this.validations.street=!1:this.validations.street=!0},houseNumberValidation(){return this.user.houseNumber.length<1?this.validations.houseNumber=!1:this.validations.houseNumber=!0},neighborhoodValidation(){return this.user.neighborhood.length<3?this.validations.neighborhood=!1:this.validations.neighborhood=!0},cityValidation(){return this.user.city.length<3?this.validations.city=!1:this.validations.city=!0},stateValidation(){return this.user.state.length<1?this.validations.state=!1:this.validations.state=!0},emailValidation(){const e=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return e.test(this.user.email)?this.validations.email=!0:this.validations.email=!1},passwordValidation(){return this.user.password.length<8?this.validations.password=!1:this.validations.password=!0},confirmPasswordValidation(){return this.user.confirmPassword!==this.user.password?this.validations.confirmPassword=!1:this.validations.confirmPassword=!0},form1Validation(){return this.nameValidation(),this.lastNameValidation(),this.cpfValidation(),this.susNumberValidation(),this.telephoneValidation(),this.birthdayValidation(),!!(this.validations.name&&this.validations.lastName&&this.validations.cpf&&this.validations.susNumber&&this.validations.telephone&&this.validations.birthday)},form2Validation(){return this.cepValidation(),this.streetValidation(),this.houseNumberValidation(),this.neighborhoodValidation(),this.cityValidation(),this.stateValidation(),!!(this.validations.cep&&this.validations.street&&this.validations.houseNumber&&this.validations.neighborhood&&this.validations.city&&this.validations.state)},form3Validation(){return this.emailValidation(),this.passwordValidation(),this.confirmPasswordValidation(),!!(this.validations.email&&this.validations.password&&this.validations.confirmPassword)},async handleCep(){try{const e=await se.get(`https://viacep.com.br/ws/${this.user.cep}/json/`);this.user.street=e.data.logradouro,this.user.neighborhood=e.data.bairro,this.user.city=e.data.localidade,this.user.state=e.data.uf}catch(e){oe.Am.error("Cep não encontrado ou inválido!",{autoClose:5e3,position:"top-right"})}},async register(){this.disabled=!0;const e="/auth/register";try{const a=await se.post(e,{email:this.user.email,senha:this.user.password,cpf:this.user.cpf,nome:this.user.name,sobrenome:this.user.lastName,data_nasc:(0,sa.p6)(this.parseDate(this.user.birthday),"D-MM-YYYY"),numero_sus:this.user.susNumber,cep:this.user.cep,rua:this.user.street,bairro:this.user.neighborhood,cidade:this.user.city,estado:this.user.state,numero:this.user.houseNumber,confirmarSenha:this.user.confirmPassword});oe.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"}),this.disabled=!1,setTimeout((()=>{this.$router.push("/login")}),2e3)}catch(a){this.disabled=!1,oe.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},parseDate(e){const[a,t,s]=e.split("-");return new Date(a,t-1,s)}}};const ia=(0,l.Z)(oa,[["render",ta],["__scopeId","data-v-19ea0c68"]]);var na=ia;const la={id:"user"};function ra(e,a,t,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",la,[(0,o.Wm)(l),(0,o.Wm)(r)])}const da={class:"content"};function ca(e,a,t,s,i,n){const l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",da,[(0,o.Wm)(l,{name:"userContent"})])}var ua={name:"ContentPage"};const ma=(0,l.Z)(ua,[["render",ca]]);var pa=ma,ha={name:"UserPage",components:{HeaderComponent:D,ContentComponent:pa}};const ga=(0,l.Z)(ha,[["render",ra]]);var ba=ga;const va={id:"schedule"},_a={class:"form-select"},wa=(0,o._)("label",{class:"options-label",for:"ubs"},"UBS",-1),ya=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione uma UBS",-1),fa=["value"],Ca=(0,o._)("label",{class:"options-label",for:"ubs"},"Tipo de consulta",-1),Da=(0,o._)("option",{value:"",disabled:"",selected:""},"Selecione o tipo de consulta",-1),ka=["value"];function Va(e,a,t,i,n,l){const r=(0,o.up)("TableComponent");return(0,o.wg)(),(0,o.iD)("div",va,[(0,o.wy)((0,o._)("div",_a,[wa,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":a[0]||(a[0]=e=>n.selectedUbs=e)},[ya,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsUbs,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e._id},(0,u.zw)(e.nome),9,fa)))),128))],512),[[s.bM,n.selectedUbs]]),Ca,(0,o.wy)((0,o._)("select",{name:"ubs",id:"ubs",class:"select","onUpdate:modelValue":a[1]||(a[1]=e=>n.selectedQuery=e)},[Da,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.optionsQuery,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e},(0,u.zw)(e),9,ka)))),128))],512),[[s.bM,n.selectedQuery]]),(0,o._)("button",{onClick:a[2]||(a[2]=e=>l.loadTable()),class:"schedule-btn"},"Ver consultas")],512),[[s.F8,!n.tableView]]),(0,o.wy)((0,o.Wm)(r,null,null,512),[[s.F8,n.tableView]])])}const Pa={id:"table"},Sa={key:0,class:"table"},Fa={class:"table-head"},xa={class:"table-row"},Ua={class:"table-body"},Na={class:"table-cell"},La={class:"table-cell"},Ma={class:"table-cell"},$a={class:"table-cell"},qa={class:"table-cell"},Aa={class:"table-cell"},za=["onClick"],Ta=["onClick"],Ha={class:"table-body"},Ia={class:"table-row"},Wa=(0,o._)("td",{class:"table-cell"},null,-1),Oa=(0,o._)("td",{class:"table-cell"},null,-1),Za={class:"table-cell foot"},ja={key:2,class:"group-btn"};function Ya(e,a,t,i,n,l){const r=(0,o.up)("fa"),d=(0,o.up)("LoadingComponent");return(0,o.wg)(),(0,o.iD)("div",Pa,[l.tableData&&!n.isLoading?((0,o.wg)(),(0,o.iD)("table",Sa,[(0,o._)("thead",Fa,[(0,o._)("tr",xa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,a)=>((0,o.wg)(),(0,o.iD)("th",{key:a,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",Ua,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.tableData.length,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e,class:"table-row"},[(0,o._)("td",Na,(0,u.zw)(l.tableData[e-1].nome_ubs),1),(0,o._)("td",La,(0,u.zw)(l.tableData[e-1].nome_medico),1),(0,o._)("td",Ma,(0,u.zw)(l.tableData[e-1].tipo),1),(0,o._)("td",$a,(0,u.zw)(l.tableData[e-1].dia),1),(0,o._)("td",qa,(0,u.zw)(l.tableData[e-1].horario),1),(0,o._)("td",Aa,[(0,o.wy)((0,o._)("button",{class:"check",onClick:a=>l.makeSchedule(e-1)},[(0,o.Uk)(" Selecionar"),(0,o.Wm)(r,{class:"calendar-check",icon:"calendar-check"})],8,za),[[s.F8,n.buttonView]]),(0,o.wy)((0,o._)("button",{class:"cancel",onClick:a=>l.cancelSchedule(e-1)},[(0,o.Uk)(" Cancelar"),(0,o.Wm)(r,{class:"xmark-cancel",icon:"xmark-circle"})],8,Ta),[[s.F8,"/paciente/minhasconsultas"===this.$route.path]])])])))),128))]),(0,o._)("tfoot",Ha,[(0,o._)("tr",Ia,[Wa,Oa,(0,o._)("td",Za,"Página atual: "+(0,u.zw)(n.currentPage),1)])])])):((0,o.wg)(),(0,o.j4)(d,{key:1})),l.tableData&&!n.isLoading?((0,o.wg)(),(0,o.iD)("div",ja,[(0,o._)("button",{onClick:a[0]||(a[0]=e=>l.backPage()),class:"schedule-btn"},"Voltar"),(0,o.wy)((0,o._)("button",{onClick:a[1]||(a[1]=e=>l.nextPage()),class:"schedule-btn"},"Carregar mais",512),[[s.F8,5===l.tableData.length]])])):(0,o.kq)("",!0)])}const Ea={id:"loading"},Qa=(0,o._)("span",{class:"loading"},null,-1),Ra=(0,o._)("p",{class:"loadingText"},"Carregando...",-1),Ka=[Qa,Ra];function Ba(e,a,t,s,i,n){return(0,o.wg)(),(0,o.iD)("div",Ea,Ka)}var Ga={name:"LoadingComponent"};const Ja=(0,l.Z)(Ga,[["render",Ba]]);var Xa=Ja,et={name:"TableComponent",components:{LoadingComponent:Xa},data(){return{tableHeader:["UBS","Médico","Tipo","Dia","Horário",""],buttonView:!0,currentPage:1,isLoading:!1}},computed:{tableData(){return this.$store.state.tableData},loadMore(){return this.$store.state.loadMore}},methods:{async makeSchedule(e){this.isLoading=!0;const a=`/consulta/${this.tableData[e]._id}`;try{const t=await se.put(a,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});this.isLoading=!1,await this.$store.dispatch("loadTable"),oe.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(t){this.isLoading=!1,oe.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async cancelSchedule(e){this.isLoading=!0;const a=`/cancel/${this.tableData[e]._id}`;try{const t=await se.put(a,{horario:this.tableData[e].horario,data:this.tableData[e].data,tipo:this.tableData[e].tipo,id_medico:this.tableData[e].id_medico,id_ubs:this.tableData[e].id_ubs,id_paciente:localStorage.getItem("id")});this.isLoading=!1,oe.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),setTimeout((()=>{this.$router.push("/")}),2e3)}catch(t){this.isLoading=!1,oe.Am.error(t.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadMyTable(){if("/paciente/minhasconsultas"===this.$route.path){this.$store.commit("setTableData",{}),this.isLoading=!0;try{this.buttonView=!1;const e=localStorage.getItem("id"),a=`/consulta/${e}/${this.currentPage}`,t=await se.get(a);this.isLoading=!1,t.data.length?(this.$store.commit("setTableData",t.data),this.$store.commit("setLoadMore",!0)):this.$store.commit("setLoadMore",!1)}catch(e){this.isLoading=!1,oe.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}}},async decideTable(){if(this.isLoading=!0,"/paciente/minhasconsultas"===this.$route.path)return this.loadMyTable(),void(this.isLoading=!1);await this.$store.dispatch("loadTable"),this.isLoading=!1},backPage(){this.currentPage--,this.$store.commit("setPage",this.currentPage),this.currentPage<1?this.$router.push("/"):this.decideTable()},nextPage(){this.currentPage++,this.$store.commit("setPage",this.currentPage),this.decideTable()}},mounted(){this.loadMyTable(),this.$store.commit("setPage",this.currentPage)}};const at=(0,l.Z)(et,[["render",Ya]]);var tt=at,st={name:"SchedulePage",components:{TableComponent:tt},data(){return{selectedUbs:"",selectedQuery:"",optionsQuery:[],optionsUbs:[],tableView:!1}},computed:{tableData(){return this.$store.state.tableData}},methods:{async loadOptions(){"/paciente/minhasconsultas"===this.$route.path&&(this.tableView=!0);const e="/options";try{const a=await se.get(e);this.optionsUbs=a.data.nomeUbs,this.optionsQuery=a.data.tipoConsulta}catch(a){oe.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async loadTable(){try{this.$store.commit("setUbs",this.selectedUbs),this.$store.commit("setQuery",this.selectedQuery),await this.$store.dispatch("loadTable"),this.tableView=!0}catch(e){oe.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}}},async mounted(){this.loadOptions()}};const ot=(0,l.Z)(st,[["render",Va]]);var it=ot;const nt={id:"ubsPage"};function lt(e,a,t,s,i,n){const l=(0,o.up)("HeaderComponent"),r=(0,o.up)("NavComponent"),d=(0,o.up)("ContentComponent");return(0,o.wg)(),(0,o.iD)("div",nt,[(0,o.Wm)(l),(0,o.Wm)(r),(0,o.Wm)(d)])}const rt={key:0,class:"nav"},dt=(0,o._)("div",{class:"link"},"Cadastrar médicos",-1),ct=(0,o._)("div",{class:"link"},"Cadastrar consultas",-1),ut=(0,o._)("div",{class:"link"},"Consultas gerais",-1),mt={class:"button-group"};function pt(e,a,t,i,n,l){const r=(0,o.up)("router-link"),d=(0,o.up)("fa");return(0,o.wg)(),(0,o.iD)("aside",{class:(0,u.C_)(["aside",{"menu-mobile":n.showMenu}])},[n.mobile?((0,o.wg)(),(0,o.iD)("nav",{key:1,class:(0,u.C_)(["nav",{"menu-mobile":n.showMenu}])},[(0,o._)("div",{class:"bars",onClick:a[0]||(a[0]=e=>l.toggleMenu())},[(0,o.Wm)(d,{class:(0,u.C_)(["fa-bars",{"rotate-bars":n.showMenu}]),icon:"bars"},null,8,["class"])]),(0,o._)("div",mt,[(0,o.Wm)(r,{to:"/ubs"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:a[1]||(a[1]=e=>l.toggleMenu())},"Cadastrar médicos",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(r,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:a[2]||(a[2]=e=>l.toggleMenu())},"Cadastrar consultas",512),[[s.F8,n.showMenu]])])),_:1}),(0,o.Wm)(r,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("button",{class:"link",onClick:a[3]||(a[3]=e=>l.toggleMenu())},"Consultas gerais",512),[[s.F8,n.showMenu]])])),_:1})])],2)):((0,o.wg)(),(0,o.iD)("nav",rt,[(0,o.Wm)(r,{to:"/ubs"},{default:(0,o.w5)((()=>[dt])),_:1}),(0,o.Wm)(r,{to:"/ubs/consulta"},{default:(0,o.w5)((()=>[ct])),_:1}),(0,o.Wm)(r,{to:"/ubs/consultas"},{default:(0,o.w5)((()=>[ut])),_:1})]))],2)}var ht={name:"NavComponent",data(){return{mobile:!1,showMenu:!1,windowWidth:null}},created(){window.addEventListener("resize",this.checkScreen),this.checkScreen()},methods:{toggleMenu(){this.showMenu=!this.showMenu},checkScreen(){this.windowWidth=window.innerWidth,this.windowWidth<=890?this.mobile=!0:this.mobile=!1}}};const gt=(0,l.Z)(ht,[["render",pt]]);var bt=gt,vt={name:"UbsPage",components:{HeaderComponent:D,NavComponent:bt,ContentComponent:pa}};const _t=(0,l.Z)(vt,[["render",lt]]);var wt=_t;const yt=e=>((0,o.dD)("data-v-65a4a224"),e=e(),(0,o.Cn)(),e),ft={id:"doctorForm"},Ct={class:"form-doctor"},Dt=yt((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre o médico")],-1))),kt={class:"input-group"},Vt={class:"input-field"},Pt={class:"input-field"},St={class:"input-field"},Ft={class:"input-field"};function xt(e,a,t,i,n,l){const r=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)("div",ft,[(0,o._)("form",Ct,[Dt,(0,o._)("div",kt,[(0,o._)("div",Vt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.doctor.nome=e),class:"inputs",type:"text",name:"name",placeholder:"Digite o nome do médico",id:"name"},null,512),[[s.nr,n.doctor.nome]])]),(0,o._)("div",Pt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.doctor.cpf=e),class:"inputs",type:"text",name:"cpf",placeholder:"Digite o CPF do médico",id:"cpf"},null,512),[[s.nr,n.doctor.cpf],[r,"###.###.###-##"]])]),(0,o._)("div",St,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.doctor.crm=e),class:"inputs",type:"text",name:"crm",placeholder:"Digite o CRM do médico",id:"crm"},null,512),[[s.nr,n.doctor.crm],[r,"######/##"]])]),(0,o._)("div",Ft,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.doctor.especialidade=e),class:"inputs",type:"text",name:"especialidade",placeholder:"Digite a especialidade do médico",id:"especialidade"},null,512),[[s.nr,n.doctor.especialidade]])]),(0,o._)("input",{onClick:a[4]||(a[4]=e=>l.registerDoctor()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var Ut={name:"RegisterDoctorComponent",data(){return{doctor:{nome:"",cpf:"",crm:"",especialidade:"",id_ubs:""}}},methods:{async registerDoctor(){const e="/doctor";try{this.doctor.id_ubs=localStorage.getItem("id");const a=await se.post(e,this.doctor);oe.Am.success(a.data["msg"],{autoClose:5e3,position:"top-right"})}catch(a){oe.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}}}};const Nt=(0,l.Z)(Ut,[["render",xt],["__scopeId","data-v-65a4a224"]]);var Lt=Nt;const Mt=e=>((0,o.dD)("data-v-38b6e517"),e=e(),(0,o.Cn)(),e),$t={id:"queryForm"},qt={class:"form-query"},At=Mt((()=>(0,o._)("div",{class:"form-header"},[(0,o._)("h1",{class:"title"},"Cadastre a consulta")],-1))),zt={class:"input-group"},Tt={class:"select-group"},Ht=Mt((()=>(0,o._)("option",{value:"",selected:"",disabled:""},"Selecione o médico",-1))),It=["value"],Wt={class:"input-field"},Ot=Mt((()=>(0,o._)("label",{for:"date",class:"label"},"Data",-1))),Zt={class:"input-field"},jt=Mt((()=>(0,o._)("label",{for:"start",class:"label"},"Início do atendimento",-1))),Yt={class:"input-field"},Et=Mt((()=>(0,o._)("label",{for:"end",class:"label"},"Término do atendimento",-1))),Qt={class:"input-field"},Rt=Mt((()=>(0,o._)("label",{for:"range",class:"label"},"Tempo médio da consulta",-1)));function Kt(e,a,t,i,n,l){return(0,o.wg)(),(0,o.iD)("div",$t,[(0,o._)("form",qt,[At,(0,o._)("div",zt,[(0,o._)("div",Tt,[(0,o.wy)((0,o._)("select",{name:"doctor",id:"doctor",class:"select","onUpdate:modelValue":a[0]||(a[0]=e=>n.query.doctor=e)},[Ht,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.doctorOptions,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{class:"option",key:a,value:e},(0,u.zw)(e.nome)+" - "+(0,u.zw)(e.especialidade),9,It)))),128))],512),[[s.bM,n.query.doctor]])]),(0,o._)("div",Wt,[Ot,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[1]||(a[1]=e=>n.query.date=e),type:"date",name:"date",id:"date"},null,512),[[s.nr,n.query.date]])]),(0,o._)("div",Zt,[jt,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[2]||(a[2]=e=>n.query.start=e),type:"time",name:"start",id:"start"},null,512),[[s.nr,n.query.start]])]),(0,o._)("div",Yt,[Et,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[3]||(a[3]=e=>n.query.end=e),type:"time",name:"end",id:"end"},null,512),[[s.nr,n.query.end]])]),(0,o._)("div",Qt,[Rt,(0,o.wy)((0,o._)("input",{class:"inputs","onUpdate:modelValue":a[4]||(a[4]=e=>n.query.range=e),type:"number",name:"range",id:"range"},null,512),[[s.nr,n.query.range]])]),(0,o._)("input",{onClick:a[5]||(a[5]=e=>l.register()),class:"register-btn",type:"button",value:"Cadastrar"})])])])}var Bt={name:"RegisterQueriesComponent",data(){return{doctorOptions:[],query:{date:"",start:"",end:"",range:Number,doctor:""}}},methods:{async loadOptions(){const e=`/options/${localStorage.getItem("id")}`;try{const a=await se.get(e);this.doctorOptions=a.data}catch(a){oe.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},async register(){const e="/query",a=parseInt(60*this.query.start.split(":")[0])+parseInt(this.query.start.split(":")[1]),t=parseInt(60*this.query.end.split(":")[0])+parseInt(this.query.end.split(":")[1]);try{const s=this.createDataArray(a,t,this.query.range);if(!s)return;const o=await se.post(e,{consultas:s});oe.Am.success(o.data["msg"],{autoClose:2e3,position:"top-right"})}catch(s){oe.Am.error(s.response.data["msg"],{autoClose:2e3,position:"top-right"})}},createDataArray(e,a,t){const s=[];let o=e;while(o<=a){const e=Math.floor(o/60),a=o%60,i=`${e}:${a<10?"0":""}${a}`;s.push({data:(0,sa.p6)(this.parseDate(this.query.date),"D-MM-YYYY"),id_medico:this.query.doctor._id,id_ubs:localStorage.getItem("id"),horario:i}),o+=t}return s},parseDate(e){const[a,t,s]=e.split("-");return new Date(a,t-1,s)}},async mounted(){this.loadOptions()}};const Gt=(0,l.Z)(Bt,[["render",Kt],["__scopeId","data-v-38b6e517"]]);var Jt=Gt;const Xt={id:"ubsTable"},es={key:0,class:"table"},as={class:"table-head"},ts={class:"table-row"},ss={class:"table-body"},os={class:"table-cell"},is={class:"table-cell"},ns={class:"table-cell"},ls={class:"table-cell"},rs={class:"table-cell"},ds={class:"table-cell"},cs=["onClick"],us={class:"table-foot"},ms={class:"table-row"},ps=(0,o._)("td",{class:"table-cell"},null,-1),hs=(0,o._)("td",{class:"table-cell"},null,-1),gs={class:"table-cell foot"},bs=(0,o._)("td",{class:"table-cell"},null,-1),vs=(0,o._)("td",{class:"table-cell"},null,-1),_s=(0,o._)("td",{class:"table-cell"},null,-1),ws={key:2,class:"group-btn"};function ys(e,a,t,i,n,l){const r=(0,o.up)("fa"),d=(0,o.up)("LoadingComponent");return(0,o.wg)(),(0,o.iD)("div",Xt,[n.tableData&&!n.isLoading?((0,o.wg)(),(0,o.iD)("table",es,[(0,o._)("thead",as,[(0,o._)("tr",ts,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableHeader,((e,a)=>((0,o.wg)(),(0,o.iD)("th",{key:a,class:"table-header-content"},(0,u.zw)(e),1)))),128))])]),(0,o._)("tbody",ss,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tableData,((e,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:a,class:"table-row",style:(0,u.j5)({background:l.hasMarked(e)})},[(0,o._)("td",os,(0,u.zw)(e.nome_medico),1),(0,o._)("td",is,(0,u.zw)(e.tipo),1),(0,o._)("td",ns,(0,u.zw)(e.dia),1),(0,o._)("td",ls,(0,u.zw)(e.horario),1),(0,o._)("td",rs,(0,u.zw)(e.nome_paciente),1),(0,o._)("td",ds,[(0,o._)("button",{class:"cancel",onClick:e=>l.deleteSchedule(a)},[(0,o.Uk)(" Apagar"),(0,o.Wm)(r,{class:"xmark-cancel",icon:"xmark-circle"})],8,cs)])],4)))),128))]),(0,o._)("tfoot",us,[(0,o._)("tr",ms,[ps,hs,(0,o._)("td",gs,"Página atual: "+(0,u.zw)(n.currentPage),1),bs,vs,_s])])])):((0,o.wg)(),(0,o.j4)(d,{key:1})),n.tableData&&!n.isLoading?((0,o.wg)(),(0,o.iD)("div",ws,[(0,o.wy)((0,o._)("button",{onClick:a[0]||(a[0]=e=>l.backPage()),class:"schedule-btn"},"Voltar",512),[[s.F8,n.currentPage>1]]),(0,o.wy)((0,o._)("button",{onClick:a[1]||(a[1]=e=>l.nextPage()),class:"schedule-btn"}," Carregar mais ",512),[[s.F8,5===n.tableData.length]])])):(0,o.kq)("",!0)])}var fs={name:"UbsTableComponent",components:{LoadingComponent:Xa},data(){return{tableHeader:["Médico","Tipo","Dia","Horário","Paciente",""],tableData:[],currentPage:1,isLoading:!1}},methods:{async loadData(){this.isLoading=!0;try{const e=`/consultas/${this.currentPage}/${localStorage.getItem("id")}`,a=await se.get(e);this.tableData=a.data,this.isLoading=!1}catch(e){this.isLoading=!1,oe.Am.error(e.response.data["msg"],{autoClose:5e3,position:"top-right"})}},nextPage(){this.currentPage++,this.loadData()},backPage(){this.currentPage--,this.loadData()},async deleteSchedule(e){this.isLoading=!0;try{const a=`/delete/${this.tableData[e]._id}`,t=await se.delete(a);this.isLoading=!1,oe.Am.success(t.data["msg"],{autoClose:5e3,position:"top-right"}),this.loadData()}catch(a){this.isLoading=!1,oe.Am.error(a.response.data["msg"],{autoClose:5e3,position:"top-right"})}},hasMarked(e){return e.nome_paciente?"#8a99e3":"#dce2fa"}},async mounted(){this.loadData()}};const Cs=(0,l.Z)(fs,[["render",ys]]);var Ds=Cs,ks=t(65),Vs=new ks.ZP.Store({state:{isLogged:!1,currentPage:1,selectedUbs:"",selectedQuery:"",tableData:{},loadMore:!0},mutations:{login(e){e.isLogged=!0},logout(e){e.isLogged=!1},setPage(e,a){a>0&&(e.currentPage=a)},setUbs(e,a){e.selectedUbs=a},setQuery(e,a){e.selectedQuery=a},setTableData(e,a){e.tableData=a},setLoadMore(e,a){e.loadMore=a}},getters:{isLogged:e=>e.isLogged},actions:{async initializeApp({commit:e}){const a=localStorage.getItem("token");if(a){const s="/auth/validateToken";try{const t=await se.post(s,{token:a});!0===t.data.validate?e("login"):e("logout")}catch(t){console.error("Erro na validação do token:",t),e("logout")}}},async validateAdmin({commit:e}){const a=localStorage.getItem("token");if(a){const s="/auth/admin";try{const t=await se.post(s,{token:a});!0===t.data.validate?e("login"):e("logout")}catch(t){console.error("Erro na validação do token:",t),e("logout")}}},async loadTable(e){const a=`/auth/consulta/${e.state.currentPage}/${e.state.selectedUbs}/${e.state.selectedQuery}`;try{const t=await se.get(a);t.data.length?(e.commit("setTableData",t.data),e.commit("setLoadMore",!0)):(e.commit("setTableData",t.data),e.commit("setLoadMore",!1))}catch(t){console.error(t)}}}});const Ps=[{name:"homeScreen",path:"/",component:N},{name:"saibaMaisScreen",path:"/saibaMais",component:H},{name:"loginScreen",path:"/login",component:le},{name:"RegisterScreen",path:"/cadastrar",component:na},{name:"UserScreen",path:"/paciente",component:ba,meta:{requiresAuth:!0},children:[{name:"MainContent",path:"",components:{userContent:it}},{name:"AgendarContent",path:"/paciente/minhasconsultas",components:{userContent:it}}]},{name:"UbsScreen",path:"/ubs",component:wt,meta:{requiresAdmin:!0},children:[{name:"RegisterDoctorContent",path:"",components:{userContent:Lt}},{name:"RegisterQueryContent",path:"/ubs/consulta",components:{userContent:Jt}},{name:"UbsTableContent",path:"/ubs/consultas",components:{userContent:Ds}}]}],Ss=(0,c.p7)({history:(0,c.PO)(),routes:Ps});Ss.beforeEach((async(e,a,t)=>{await Vs.dispatch("initializeApp"),e.meta.requiresAuth?Vs.state.isLogged?(t(),Vs.commit("setTableData",{})):t("/login"):e.meta.requiresAdmin?(await Vs.dispatch("validateAdmin"),Vs.state.isLogged?t():t("/login")):t()}));var Fs=Ss,xs=t(9414),Us=t.n(xs),Ns=t(3494),Ls=t(7749),Ms=t(8539);se.interceptors.request.use((e=>(e.headers.Authorization=localStorage.getItem("token"),e)),(e=>Promise.reject(e)));Ns.vI.add(Ms.Ry6,Ms.$9F,Ms.xiG),(0,s.ri)(d).component("fa",Ls.GN).use(Fs).use(Vs).use(Us()).mount("#app")}},a={};function t(s){var o=a[s];if(void 0!==o)return o.exports;var i=a[s]={exports:{}};return e[s].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,s,o,i){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],i=e[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](s[r])}))?s.splice(r--,1):(l=!1,i<n&&(n=i));if(l){e.splice(c--,1);var d=o();void 0!==d&&(a=d)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,o,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var o,i,n=s[0],l=s[1],r=s[2],d=0;if(n.some((function(a){return 0!==e[a]}))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(r)var c=r(t)}for(a&&a(s);d<n.length;d++)i=n[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(9627)}));s=t.O(s)})();
//# sourceMappingURL=app.042f1d95.js.map